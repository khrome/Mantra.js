!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).WORLDS=e()}(function(){return function n(i,o,a){function u(t,e){if(!o[t]){if(!i[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(l)return l(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}r=o[t]={exports:{}},i[t][0].call(r.exports,function(e){return u(i[t][1][e]||e)},r,r.exports,n,i,o,a)}return o[t].exports}for(var l="function"==typeof require&&require,e=0;e<a.length;e++)u(a[e]);return u}({1:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(e){e=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==n(e)?e:String(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a,u,l,f=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.id=e.id}var t,r,n;return t=e,(r=[{key:"init",value:function(e){this.game=e,this.createWorld()}},{key:"createWorld",value:function(){var e=this.game;e.setGravity(0,0,0),e.createEntity({type:"PLATFORM",isStatic:!0,width:1e3,height:40,position:{x:0,y:200}}),e.createEntity({type:"BLOCK",width:300,height:300,position:{x:0,y:-150}}),e.use("Border",{autoBorder:!0}),console.log(e.systems),e.createDefaultPlayer()}},{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"destroy",value:function(){}}])&&i(t.prototype,r),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();a=f,l="Home",(u=o(u="id"))in a?Object.defineProperty(a,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[u]=l,r.default=f},{}],2:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(e){e=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==n(e)?e:String(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a,u,l,f=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.game=e,this.id=t.id}var e,r,n;return e=t,(r=[{key:"init",value:function(e){this.game=e,this.createWorld()}},{key:"createWorld",value:function(){var e=this.game;e.setGravity(0,9.8,0),e.use("Platform"),e.on("plugin::ready::Platform",function(){console.log(e.systems.platform.kinds),e.createEntity({type:"PLATFORM",isStatic:!0,width:700,height:40,position:{x:0,y:300}}),e.createDefaultPlayer()}),e.use("Border",{autoBorder:!0}),console.log(e.systems)}},{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"destroy",value:function(){}}])&&i(e.prototype,r),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();a=f,l="Platform",(u=o(u="id"))in a?Object.defineProperty(a,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[u]=l,r.default=f},{}],3:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(e){e=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==n(e)?e:String(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a,u,l,f=function(){function r(){var e=this,t=r;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");this.averageSnapshotSize=null,this.displayElement=null,this.id=r.id}var e,t,n;return e=r,(t=[{key:"init",value:function(t){this.game=t,this.game.addSystem(this.id,this);var r=t.width/3*-1;t.on("player::joined",function(e){console.log("a player has joined the server",e);e=t.createEntity({id:e.id,type:"PLAYER",shape:"rectangle",restitution:0,mass:9e4,height:300,width:40,friction:0,frictionAir:0,frictionStatic:0,lockedProperties:{position:{x:r}}});t.emit("player::created",e)}),this.createBorder(),this.createBall()}},{key:"update",value:function(){}},{key:"createBall",value:function(){this.game.createEntity({id:"game-ball",type:"BALL",x:0,y:500,height:50,width:50,velocity:{x:8,y:8},maxSpeed:20,restitution:2.5,friction:0,frictionAir:0,frictionStatic:0})}},{key:"createBorder",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=200,n={top:{position:{x:0,y:-600},size:{width:2400,height:r}},bottom:{position:{x:0,y:600},size:{width:2400,height:r}},left:{position:{x:-1100,y:0},size:{width:r,height:1e3}},right:{position:{x:1100,y:0},size:{width:r,height:1e3}}};for(e in n){var i=n[e];void 0===t.id&&(t.id="border"),this.game.createEntity({name:t.id+"-"+e,type:"BORDER",shape:"rectangle",isStatic:!0,position:{x:i.position.x,y:i.position.y},width:i.size.width,height:i.size.height,depth:80})}}}])&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),r}();a=f,l="world-pong",(u=o(u="id"))in a?Object.defineProperty(a,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[u]=l,r.default=f},{}],4:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(e){e=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==n(e)?e:String(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a,u,l,f=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.game=e,this.id=t.id}var e,r,n;return e=t,(r=[{key:"init",value:function(e){this.game=e,this.createWorld()}},{key:"createWorld",value:function(){var e=this.game;e.use("Bullet"),e.systemsManager.removeSystem("entity-input"),e.systemsManager.removeSystem("entity-movement"),e.use("PhysXPhysics"),e.use("EntityInput"),e.use("EntityMovement"),e.use("Block"),e.use("Editor",{sourceCode:"https://github.com/yantra-core/mantra/blob/master/mantra-client/public/examples/offline/physx-babylon.html"}),e.systems.graphics.switchGraphics("BabylonGraphics",function(){e.createEntity({type:"BLOCK",width:500,height:500,depth:200,position:{x:0,y:-500}}),e.use("Border",{autoBorder:!0}),e.use("StarField"),e.createDefaultPlayer()})}},{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"destroy",value:function(){}}])&&i(e.prototype,r),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();a=f,l="Space",(u=o(u="id"))in a?Object.defineProperty(a,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[u]=l,r.default=f},{}],5:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(e){e=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==n(e)?e:String(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a,u,l,f=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.game=e,this.id=t.id}var e,r,n;return e=t,(r=[{key:"init",value:function(e){this.game=e,this.createWorld()}},{key:"createWorld",value:function(){var e=this.game;e.use("Bullet"),e.use("CurrentFPS"),e.use("Timers"),e.use("Health"),e.use("Sutra"),e.use("Block",{MIN_BLOCK_SIZE:1e3}),e.use("Border",{autoBorder:!0,thickness:200}),e.systems.graphics.switchGraphics("BabylonGraphics",function(){e.use("StarField"),e.use("TowerWorld",{game:e}),e.data.roundEnded=!1,e.data.roundStarted=!0,e.createDefaultPlayer()})}},{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"destroy",value:function(){}}])&&i(e.prototype,r),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();a=f,l="Sutra",(u=o(u="id"))in a?Object.defineProperty(a,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[u]=l,r.default=f},{}],6:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(e){e=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==n(e)?e:String(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a,u,l,f=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.game=e,this.id=t.id}var e,r,n;return e=t,(r=[{key:"init",value:function(e){this.game=e,this.createWorld()}},{key:"createWorld",value:function(){var e=this.game;e.use("Bullet"),e.use("Health"),e.use("Block"),e.use("StarField"),e.use("XState",{world:{id:"bossFightGame",world:{width:800,height:600},entities:{boss:{type:"NPC",position:{x:-200,y:-600},height:600,width:600,health:1e3}},stateMachine:{id:"bossFightGame",initial:"Idle",context:{name:"boss",health:1e3},states:{Idle:{on:{START:"Active"}},Active:{on:{"entity::damage":{target:"UpdateEntity",cond:"isBossDamaged"},ENTITY_DESTROYED:{target:"Victory",cond:"isBossDefeated"}}},UpdateEntity:{on:{COMPLETE_UPDATE:"Active"},entry:"calculateComponentUpdate"},Victory:{type:"final"}},on:{}},guards:{isBossDamaged:function(e,t){return t.name===e.name&&"entity::damage"===t.type},isBossDefeated:function(e,t){return t.name===e.name&&"ENTITY_DESTROYED"===t.type}},actions:{calculateComponentUpdate:function(e,t){e.health-=t.damage;var t=255,r=255,n=0,i=255,o=0,a=0,u=Math.max(e.health,0)/1e3,o=r+(o-r)*(1-u),r=n+(a-n)*(1-u);e.color=Math.round(t+(i-t)*(1-u))<<16|Math.round(o)<<8|Math.round(r)}}}}),e.use("StarField"),e.on("plugin::ready::XState",function(){e.systems.xstate.loadEntities()}),e.systems.graphics.switchGraphics("BabylonGraphics",function(){e.createDefaultPlayer()})}},{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"destroy",value:function(){}}])&&i(e.prototype,r),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();a=f,l="XState",(u=o(u="id"))in a?Object.defineProperty(a,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[u]=l,r.default=f},{}],7:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(e){e=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==n(e)?e:String(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a,u,l,f=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.game=e,this.id=t.id}var e,r,n;return e=t,(r=[{key:"init",value:function(e){this.game=e,this.createWorld()}},{key:"createWorld",value:function(){var e=this.game;e.use("YCraft"),e.use("YCraftGUI"),e.start(function(){}),e.systems.graphics.switchGraphics("CSSGraphics",function(){e.createDefaultPlayer()})}},{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"destroy",value:function(){}}])&&i(e.prototype,r),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();a=f,l="YCraft",(u=o(u="id"))in a?Object.defineProperty(a,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[u]=l,r.default=f},{}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"worlds",{enumerable:!0,get:function(){return n.default}});var n=(r=e("./index.js"))&&r.__esModule?r:{default:r}},{"./index.js":9}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=f(e("./Home/Home.js")),i=f(e("./Platform/Platform.js")),o=f(e("./Pong/Pong.js")),a=f(e("./Space/Space.js")),u=f(e("./Sutra/Sutra.js")),l=f(e("./XState/XState.js")),e=f(e("./YCraft/YCraft.js"));function f(e){return e&&e.__esModule?e:{default:e}}var c={};c.Home=n.default,c.Platform=i.default,c.Pong=o.default,c.Space=a.default,c.Sutra=u.default,c.XState=l.default,c.YCraft=e.default,r.default=c},{"./Home/Home.js":1,"./Platform/Platform.js":2,"./Pong/Pong.js":3,"./Space/Space.js":4,"./Sutra/Sutra.js":5,"./XState/XState.js":6,"./YCraft/YCraft.js":7}]},{},[8])(8)});
//# sourceMappingURL=worlds.mantra.min.js.map