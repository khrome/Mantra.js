!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).WORLDS=t()}(function(){return function r(o,i,u){function a(e,t){if(!i[e]){if(!o[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(c)return c(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}n=i[e]={exports:{}},o[e][0].call(n.exports,function(t){return a(o[e][1][t]||t)},n,n.exports,r,o,i,u)}return i[e].exports}for(var c="function"==typeof require&&require,t=0;t<u.length;t++)a(u[t]);return a}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Actuator",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"Amplifier",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"Button",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"Display",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"ElectricalSignal",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"LEDLight",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(n,"LaserSensor",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"Latch",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"Mirror",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(n,"MotionDetector",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(n,"PressureSensor",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"Relay",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(n,"Rover",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(n,"VirtualMachine",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(n,"Wire",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(n,"YCraft",{enumerable:!0,get:function(){return r.default}});var r=g(t("./lib/YCraft.js")),o=g(t("./lib/signals/ElectricalSignal.js")),i=g(t("./lib/parts/Actuator.js")),u=g(t("./lib/parts/Amplifier.js")),a=g(t("./lib/parts/Button.js")),c=g(t("./lib/parts/Display.js")),s=g(t("./lib/parts/LaserSensor.js")),l=g(t("./lib/parts/Latch.js")),f=g(t("./lib/parts/LEDLight.js")),p=g(t("./lib/parts/Mirror.js")),y=g(t("./lib/parts/MotionDetector.js")),d=g(t("./lib/parts/PressureSensor.js")),b=g(t("./lib/parts/Relay.js")),v=g(t("./lib/parts/Rover.js")),h=g(t("./lib/parts/VirtualMachine.js")),m=g(t("./lib/parts/Wire.js"));function g(t){return t&&t.__esModule?t:{default:t}}},{"./lib/YCraft.js":3,"./lib/parts/Actuator.js":4,"./lib/parts/Amplifier.js":5,"./lib/parts/Button.js":6,"./lib/parts/Display.js":7,"./lib/parts/LEDLight.js":8,"./lib/parts/LaserSensor.js":9,"./lib/parts/Latch.js":10,"./lib/parts/Mirror.js":11,"./lib/parts/MotionDetector.js":12,"./lib/parts/PressureSensor.js":13,"./lib/parts/Relay.js":14,"./lib/parts/Rover.js":15,"./lib/parts/VirtualMachine.js":16,"./lib/parts/Wire.js":17,"./lib/signals/ElectricalSignal.js":18}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Part=void 0;t=(t=t("./utils/EventEmitter.js"))&&t.__esModule?t:{default:t};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function c(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n),e=(t=r?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}var s,n=n.Part=function(t){var e=u;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t);var n,i=c(u);function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=this,o=u;if(r instanceof o)return(r=i.call(this)).id=u.idCounter++,r.position={x:t,y:e,z:n},r.size={width:64,height:64,depth:64},r.props={},r;throw new TypeError("Cannot call a class as a function")}return e=u,(t=[{key:"setYCraft",value:function(t){this.yCraft=t}}])&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(t.default);t=n,n=0,(s=u(s="idCounter"))in t?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n},{"./utils/EventEmitter.js":19}],3:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(t=t("./utils/EventEmitter.js"))&&t.__esModule?t:{default:t};function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}(r.key),r)}}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function a(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=c(n),e=(t=r?(t=c(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}t=function(t){var e=l;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t);var n,s=a(l);function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=r.powerRequired,o=void 0!==o&&o,i=r.height,i=void 0===i?640:i,u=r.width,u=void 0===u?640:u,r=r.description,r=void 0===r?"A YCraft contraption":r,a=this,c=l;if(a instanceof c)return(a=s.call(this)).position={x:t,y:e,z:n},a.height=i,a.width=u,a.description=r,a.powerRequired=o,a.parts=[],a.contraptions=[],a;throw new TypeError("Cannot call a class as a function")}return e=l,(t=[{key:"start",value:function(){0<this.parts.length&&(this.parts[0].onFn?this.parts[0].onFn():console.log("Warning: ".concat(this.parts[0].constructor.name," does not have an onFn method"))),0<this.contraptions.length&&this.contraptions.forEach(function(t){t.start()})}},{key:"stop",value:function(){0<this.parts.length&&(this.parts[0].offFn?this.parts[0].offFn():console.log("Warning: ".concat(this.parts[0].constructor.name," does not have an offFn method")))}},{key:"addContraption",value:function(t){var o=this,e=this.position.x,n=this.position.y,r=this.position.z;t.setPosition(t.position.x+e,t.position.y+n,t.position.z+r),this.contraptions.push(t),t.onAny(function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];o.emit.apply(o,[t].concat(n))}),"function"==typeof t.setYCraft&&t.setYCraft(this)}},{key:"addPart",value:function(t){var o=this;t.position.x+=this.position.x,t.position.y+=this.position.y,t.position.z+=this.position.z,this.parts.push(t),t instanceof r.default&&(t.onAny(function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];o.emit.apply(o,[t].concat(n))}),"function"==typeof t.setYCraft)&&t.setYCraft(this)}},{key:"findpart",value:function(e){return this.parts.find(function(t){return t instanceof e})}},{key:"setPowerRequired",value:function(t){this.config.powerRequired=t}},{key:"connect",value:function(t){t instanceof YCraftComponent&&(this.yCraft,t.yCraft)}},{key:"run",value:function(){}},{key:"tick",value:function(){this.parts.forEach(function(t){"function"==typeof t.update&&t.update()})}},{key:"setMode",value:function(t){this.mode=t}},{key:"setPosition",value:function(t,e,n){var r=t-this.position.x,o=e-this.position.y,i=n-this.position.z;this.position.x=t,this.position.y=e,this.position.z=n,this.parts.forEach(function(t){t.position.x+=r,t.position.y+=o,t.position.z+=i})}},{key:"toJSON",value:function(){var e=this;return{powerRequired:this.powerRequired,parts:this.parts.map(function(t){return{type:t.constructor.name,properties:e.getPartProperties(t),connections:e.getPartConnections(t),position:t.position,size:t.size}})}}},{key:"getPartProperties",value:function(t){var e={};if(t.props)for(var n in t.props)e[n]=t.props[n];return e}},{key:"getPartConnections",value:function(t){var e=[];return t.connectedParts&&t.connectedParts.forEach(function(t){e.push({id:t.id,type:t.constructor.name})}),e}}])&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(r.default);n.default=t},{"./utils/EventEmitter.js":19}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;t=t("../Part.js");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function i(t,e){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function c(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=u(n),e=(t=r?(t=u(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}var l,n=n.default=function(t){var e=a;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t);var n,u=c(a);function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=(3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}).frequency,r=void 0===r?1e3:r,o=this,i=a;if(o instanceof i)return(o=u.call(this,t,e,n)).type=a.type,o.isActive=!1,o.isOn=!1,o.onFn=o.start.bind(s(o)),o.offFn=o.stop.bind(s(o)),o.timers={pulse:null},o.frequency=r,o.connectedParts=[],o;throw new TypeError("Cannot call a class as a function")}return e=a,(t=[{key:"connect",value:function(t){"Wire"===t.constructor.name&&t.inputs.push(this),this.connectedParts.push(t)}},{key:"receive",value:function(t){console.log("Actuator received signal",t),this.signal=t,this.toggle()}},{key:"toggle",value:function(){this.isOn?(this.stop(),this.emit("stop"),this.isOn=!1):(this.start(),this.emit("start"),this.isOn=!0,this.update())}},{key:"start",value:function(){var t=this;null===this.timers.pulse&&(this.timers.pulse=setInterval(function(){t.update()},this.frequency))}},{key:"stop",value:function(){null!==this.timers.pulse&&(clearInterval(this.timers.pulse),this.timers.pulse=null)}},{key:"update",value:function(){var e=this;this.isOn&&(this.emit("pulse",this.signal),this.connectedParts.forEach(function(t){return t.receive(e.signal)}))}},{key:"unload",value:function(){this.stop()}}])&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(t.Part);t=n,n="Actuator",(l=a(l="type"))in t?Object.defineProperty(t,l,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[l]=n},{"../Part.js":2}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("../Part.js"),c=(t=t("../signals/ElectricalSignal.js"))&&t.__esModule?t:{default:t};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function i(t,e){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=u(n),e=(t=r?(t=u(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){t=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==s(t)?t:String(t)}var t=n.default=function(t){var e=a;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t);var n,u=l(a);function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=(3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}).amplitude,r=void 0===r?2:r,o=this,i=a;if(o instanceof i)return"object"===s(t)&&(r=t.amplitude||r,n=t.z||0,e=t.y||0,t=t.x||0),(o=u.call(this,t,e,n)).type=a.type,o.connectedParts=[],o.mode="continuous",o.amplitude=r,o.signal=new c.default,o.outputs=[],o.inputs=[],o.onFn=o.activate.bind(f(o)),o.offFn=o.deactivate.bind(f(o)),o;throw new TypeError("Cannot call a class as a function")}return e=a,(t=[{key:"setYCraft",value:function(t){this.yCraft=t}},{key:"connect",value:function(t){void 0!==t.inputs&&t.inputs.push(this),this.outputs.push(t)}},{key:"activate",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn=!0,this.emit("activate",t),this.transmit(t)}},{key:"deactivate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn=!1,this.emit("deactivate",e),e.binarySignal=0,this.outputs.forEach(function(t){t.receive&&"function"==typeof t.receive&&"continuous"===t.mode&&t.receive(e)})}},{key:"toggle",value:function(){this.isOn?this.deactivate():this.activate()}},{key:"receive",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn?this.deactivate(t):(t.current=t.current*this.amplitude,this.activate(t))}},{key:"transmit",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.outputs.forEach(function(t){t.receive&&t.receive(e)})}},{key:"update",value:function(){}}])&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(r.Part);n=t,r="Amplifier",(t=a(t="type"))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("../Part.js"),a=(t=t("../signals/ElectricalSignal.js"))&&t.__esModule?t:{default:t};function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n),e=(t=r?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){t=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==c(t)?t:String(t)}var t=n.default=function(t){var e=u;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t);var n,i=l(u);function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=this,o=u;if(r instanceof o)return"object"===c(t)&&(n=t.z||0,e=t.y||0,t=t.x||0),(r=i.call(this,t,e,n)).type=u.type,r.signal=new a.default,r.connectedParts=[],r.isOn=!1,r.onFn=r.press.bind(f(r)),r.offFn=r.release.bind(f(r)),r;throw new TypeError("Cannot call a class as a function")}return e=u,(t=[{key:"setYCraft",value:function(t){this.yCraft=t}},{key:"connect",value:function(t){void 0!==t.inputs&&t.inputs.push(this),this.connectedParts.push(t)}},{key:"press",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn=!0,this.emit("press",e),this.connectedParts.forEach(function(t){t.receive&&"function"==typeof t.receive&&t.receive(e)})}},{key:"release",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn=!1,this.emit("release"),e.binarySignal=0,this.connectedParts.forEach(function(t){t.receive&&"function"==typeof t.receive&&"continuous"===t.mode&&t.receive(e)})}},{key:"receive",value:function(t){}},{key:"transmit",value:function(e){this.connectedParts.forEach(function(t){t.receive&&t.receive(e)})}}])&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(r.Part);n=t,r="Button",(t=u(t="type"))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("../Part.js"),o=(t=t("../signals/ElectricalSignal.js"))&&t.__esModule?t:{default:t};function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=u(n),e=(t=r?(t=u(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){t=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==c(t)?t:String(t)}var t=n.default=function(t){var e=a;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t);var n,u=l(a);function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=(3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}).text,r=void 0===r?"Your Sign Here":r,o=this,i=a;if(o instanceof i)return"object"===c(t)&&(n=t.z||0,e=t.y||0,t=t.x||0),(o=u.call(this,t,e,n)).type=a.type,o.text=r,o.connectedParts=[],o.inputs=[],o;throw new TypeError("Cannot call a class as a function")}return e=a,(t=[{key:"setText",value:function(t){this.text=t,console.log("Display text set to: ".concat(this.text))}},{key:"connect",value:function(t){this.connectedParts.push(t),this.inputs.push(t)}},{key:"receive",value:function(t){t instanceof o.default&&this.setText(t.data)}}])&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(r.Part);n=t,r="Display",(t=a(t="type"))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;t=t("../Part.js");function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function o(t,e){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function i(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=u(n),e=(t=r?(t=u(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){t=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==s(t)?t:String(t)}var c,n=n.default=function(t){var e=c;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t);var n,a=i(c);function c(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=r.wattage,o=void 0===o?40:o,r=r.maxWattage,r=void 0===r?120:r,i=this,u=c;if(i instanceof u)return"object"===s(t)&&(o=t.wattage||o,r=t.maxWattage||r,n=t.z||0,e=t.y||0,t=t.x||0),(i=a.call(this,t,e,n)).toggleFn=i.toggle.bind(l(i)),i.mode="continuous",i.onFn=i.activate.bind(l(i)),i.offFn=i.deactivate.bind(l(i)),i.type=c.type,i.isOn=!1,i.color=65280,i.props={},i.props.wattage=o,i.props.maxWattage=r,i.props.isBroken=!1,i;throw new TypeError("Cannot call a class as a function")}return e=c,(t=[{key:"setYCraft",value:function(t){this.yCraft=t}},{key:"activate",value:function(t){this.isOn=!0,this.emit("activate",t)}},{key:"deactivate",value:function(t){this.isOn=!1,this.emit("deactivate",t)}},{key:"toggle",value:function(t){this.isOn?this.deactivate(t):this.activate(t)}},{key:"receive",value:function(t){var e;this.props.isBroken||(e=(this.signal=t).calculatePower(),this.isOn?this.deactivate(t):(!this.yCraft.powerRequired||e>=this.props.wattage)&&this.activate(t))}},{key:"break",value:function(t){this.props.isBroken=!0,this.emit("broken")}},{key:"handleCollision",value:function(t){this.props.isBroken||"Rover"===t.type&&(this.isOn=!1,this.props.isBroken=!0,this.props.color="grey",this.emit("broken"))}},{key:"update",value:function(){this.props.isBroken}}])&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(t.Part);t=n,n="LEDLight",(c=a(c="type"))in t?Object.defineProperty(t,c,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[c]=n},{"../Part.js":2}],9:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=u(t("../utils/EventEmitter.js")),i=u(t("../signals/ElectricalSignal.js"));function u(t){return t&&t.__esModule?t:{default:t}}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}(r.key),r)}}function c(t,e){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=l(n),e=(t=r?(t=l(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.default=function(t){var e=o;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t);var n,r=s(o);function o(){var t;if(this instanceof o)return(t=r.call(this)).connectedComponent=null,t.laserSignal=new i.default({voltage:5,current:.1}),t;throw new TypeError("Cannot call a class as a function")}return e=o,(t=[{key:"connect",value:function(t){this.connectedComponent=t}},{key:"emitLaser",value:function(){this.connectedComponent&&this.connectedComponent.receive(this.laserSignal)}},{key:"receive",value:function(t){}}])&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(r.default)},{"../signals/ElectricalSignal.js":18,"../utils/EventEmitter.js":19}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("../Part.js"),a=(t=t("../signals/ElectricalSignal.js"))&&t.__esModule?t:{default:t};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n),e=(t=r?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}var t=n.default=function(t){var e=u;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t);var n,i=l(u);function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=this,o=u;if(r instanceof o)return(r=i.call(this,t,e,n)).type=u.type,r.connectedParts=[],r.signal=new a.default,r.isLatched=!1,r.onFn=r.engage.bind(f(r)),r.offFn=r.disengage.bind(f(r)),r;throw new TypeError("Cannot call a class as a function")}return e=u,(t=[{key:"setYCraft",value:function(t){this.yCraft=t}},{key:"connect",value:function(t){"Wire"===t.constructor.name&&t.inputs.push(this),this.connectedParts.push(t)}},{key:"toggle",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.isLatched?this.disengage(t):this.engage(t)}},{key:"engage",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.isLatched=!0,this.emit("engage",t),this.transmit(t)}},{key:"disengage",value:function(t){this.isLatched=!1,this.emit("disengage"),this.transmit(t)}},{key:"transmit",value:function(e){this.connectedParts.forEach(function(t){t.receive&&t.receive(e)})}}])&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(r.Part);n=t,r="Latch",(t=u(t="type"))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],11:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;t=(t=t("../utils/EventEmitter.js"))&&t.__esModule?t:{default:t};function i(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function u(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach(function(t){var e,n;e=r,n=o[t=t],(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))})}return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function c(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=f(n),e=(t=r?(t=f(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.default=function(t){var e=o;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t);var n,r=l(o);function o(){var t;if(this instanceof o)return(t=r.call(this)).connectedComponent=null,t.orientation=0,t;throw new TypeError("Cannot call a class as a function")}return e=o,(t=[{key:"connect",value:function(t){this.connectedComponent=t}},{key:"setOrientation",value:function(t){this.orientation=t}},{key:"receive",value:function(t){"LightSignal"===t.constructor.name&&(console.log("Mirror: Reflecting laser at orientation ".concat(this.orientation," degrees.")),this.connectedComponent)&&(t=u(u({},t),{},{direction:this.calculateReflectionDirection(t.direction)}),this.connectedComponent.receive(t))}},{key:"calculateReflectionDirection",value:function(t){return(t+2*this.orientation)%360}}])&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(t.default)},{"../utils/EventEmitter.js":19}],12:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("../Part.js"),o=(t=t("../signals/ElectricalSignal.js"))&&t.__esModule?t:{default:t};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=a(n),e=(t=r?(t=a(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){t=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==i(t)?t:String(t)}var t=n.default=function(t){var e=c;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t);var n,a=l(c);function c(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=r.motionTimeout,o=void 0===o?4e3:o,r=r.debounceDelay,r=void 0===r?500:r,i=this,u=c;if(i instanceof u)return(i=a.call(this,t,e,n)).type=c.type,i.isConnected=!1,i.connectedParts=[],i.motionTimeout=o,i.debounceDelay=r,i.lastMotionTime=0,i.motionTimer=null,i.onFn=i.detectMotion.bind(f(i)),i.offFn=function(){},i;throw new TypeError("Cannot call a class as a function")}return e=c,(t=[{key:"connect",value:function(t){this.isConnected=!0,"Wire"===t.constructor.name&&t.inputs.push(this),this.connectedParts.push(t)}},{key:"detectMotion",value:function(){var t=this,e=Date.now();e-this.lastMotionTime<this.debounceDelay||(this.lastMotionTime=e,this.isConnected?((e=new o.default({voltage:5})).encodeUSB(1),console.log("Motion detected!"),this.transmit(e),this.emit("motion",e),clearTimeout(this.motionTimer),this.motionTimer=setTimeout(function(){t.emit("still")},this.motionTimeout)):console.log("Motion detector is not connected to any component."))}},{key:"transmit",value:function(e){this.connectedParts.forEach(function(t){"function"==typeof t.receive&&t.receive(e)})}},{key:"update",value:function(){}}])&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(r.Part);n=t,r="MotionDetector",(t=c(t="type"))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],13:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=(r=t("../signals/ElectricalSignal.js"))&&r.__esModule?r:{default:r},r=t("../Part.js");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=u(n),e=(t=r?(t=u(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}var t=n.default=function(t){var e=a;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t);var n,u=l(a);function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=(3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}).debounceDelay,r=void 0===r?500:r,o=this,i=a;if(o instanceof i)return(o=u.call(this,t,e,n)).type=a.type,o.connectedParts=[],o.signal=new c.default,o.debounceDelay=r,o.lastTriggerTime=0,o.onFn=o.trigger.bind(f(o)),o.offFn=o.release.bind(f(o)),o;throw new TypeError("Cannot call a class as a function")}return e=a,(t=[{key:"connect",value:function(t){"Wire"===t.constructor.name&&t.inputs.push(this),this.connectedParts.push(t)}},{key:"toggle",value:function(){Date.now()-this.lastTriggerTime<this.debounceDelay||(this.isOn?this.release():this.trigger())}},{key:"trigger",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.lastTriggerTime=Date.now(),this.isOn=!0,this.emit("trigger",e),this.connectedParts.forEach(function(t){t.receive&&"function"==typeof t.receive&&t.receive(e)})}},{key:"release",value:function(){var e=this;this.isOn=!1,this.emit("release"),this.connectedParts.forEach(function(t){t.off&&"function"==typeof t.off&&t.off(e.signal)})}},{key:"receive",value:function(t){}}])&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(r.Part);n=t,r="PressureSensor",(t=a(t="type"))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],14:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("../Part.js"),a=(t=t("../signals/ElectricalSignal.js"))&&t.__esModule?t:{default:t};function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n),e=(t=r?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){t=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==c(t)?t:String(t)}var t=n.default=function(t){var e=u;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t);var n,i=l(u);function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=((3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}).amplitude,this),o=u;if(r instanceof o)return"object"===c(t)&&(n=t.z||0,e=t.y||0,t=t.x||0),(r=i.call(this,t,e,n)).type=u.type,r.connectedParts=[],r.mode="continuous",r.signal=new a.default,r.outputs=[],r.inputs=[],r.onFn=r.activate.bind(f(r)),r.offFn=r.deactivate.bind(f(r)),r;throw new TypeError("Cannot call a class as a function")}return e=u,(t=[{key:"setYCraft",value:function(t){this.yCraft=t}},{key:"connect",value:function(t){void 0!==t.inputs&&t.inputs.push(this),this.outputs.push(t)}},{key:"activate",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn=!0,this.emit("activate",t),this.transmit(t)}},{key:"deactivate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn=!1,this.emit("deactivate",e),e.binarySignal=0,this.outputs.forEach(function(t){t.receive&&"function"==typeof t.receive&&"continuous"===t.mode&&t.receive(e)})}},{key:"toggle",value:function(){this.isOn?this.deactivate():this.activate()}},{key:"receive",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn?this.deactivate(t):this.activate(t)}},{key:"transmit",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.outputs.forEach(function(t){t.receive&&t.receive(e)})}},{key:"update",value:function(){}}])&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(r.Part);n=t,r="Relay",(t=u(t="type"))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],15:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function i(t,e){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=a(n),e=(t=r?(t=a(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,f,p,t=function(t){var e=s;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t);var n,c=u(s);function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=r.velocity,o=void 0===o?{x:5,y:5}:o,i=r.color,i=void 0===i?13421772:i,r=r.movementRate,r=void 0===r?16.666:r,u=this,a=s;if(u instanceof a)return(u=c.call(this,t,e,n)).type=s.type,u.props={},u.props.velocity=o,u.props.color=i,u.props.movementRate=r,u.state="inactive",u.isOn=!1,u.timers={movement:null},u.defaultDelay=100,u.collisionCooldown=!1,u.onFn=u.start.bind(l(u)),u.offFn=u.stop.bind(l(u)),u.on("collision",u.handleCollision),u;throw new TypeError("Cannot call a class as a function")}return e=s,(t=[{key:"setYCraft",value:function(t){this.yCraft=t}},{key:"start",value:function(){var t=this;this.state="active",this.isOn=!0,this.timers.movementInterval&&clearInterval(this.timers.movementInterval),this.timers.movementInterval=setInterval(function(){return t.update()},this.props.movementRate)}},{key:"stop",value:function(){this.state="inactive",this.isOn=!1,this.timers.movementInterval&&clearInterval(this.timers.movementInterval)}},{key:"update",value:function(){"active"===this.state&&(this.emit("move",this.position),this.position.x+=this.props.velocity.x,this.position.y+=this.props.velocity.y)}},{key:"handleCollision",value:function(t){"Wire"===t.name||"Rover"===t.name||this.collisionCooldown||(this.props.velocity.x*=-1,this.props.velocity.y*=-1,this.emit("move",this.position),this.startCollisionCooldown())}},{key:"startCollisionCooldown",value:function(){var t=this;this.collisionCooldown=!0,setTimeout(function(){t.collisionCooldown=!1},this.props.movementRate)}},{key:"unload",value:function(){this.timers.movementInterval&&clearInterval(this.timers.movementInterval)}}])&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(t("../Part.js").Part);s=t,p="Rover",(f=c(f="type"))in s?Object.defineProperty(s,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):s[f]=p,n.default=t},{"../Part.js":2}],16:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("../Part.js");(t=t("../signals/ElectricalSignal.js"))&&t.__esModule;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function a(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=c(n),e=(t=r?(t=c(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}var t=n.default=function(t){var e=o;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t);var n,r=a(o);function o(){var t;if(this instanceof o)return(t=r.call(this)).type=o.type,t.props={},t.image=function(t){return t},t.connectedParts=[],t.inputs=[],t.outputs=[],t;throw new TypeError("Cannot call a class as a function")}return e=o,(t=[{key:"setImage",value:function(t){this.image=t}},{key:"connect",value:function(t){this.connectedParts.push(t),this.outputs.push(t)}},{key:"receive",value:function(t){t=this.image(t);this.transmit(t)}},{key:"transmit",value:function(e){this.emit("transmit",this.outputs,e),this.outputs.forEach(function(t){t.receive&&t.receive(e)})}}])&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(r.Part);n=t,r="VirtualMachine",(t=s(t="type"))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],17:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("../Part.js");(t=t("../signals/ElectricalSignal.js"))&&t.__esModule;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function a(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=c(n),e=(t=r?(t=c(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}var t=n.default=function(t){var e=o;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t);var n,r=a(o);function o(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).signalLoss,t=void 0===t||t,e=this,n=o;if(e instanceof n)return(e=r.call(this)).type=o.type,e.props={signalLoss:t,resistivity:1.68e-8,crossSectionalArea:208e-8},e.connectedParts=[],e.segments=[],e.inputs=[],e.outputs=[],e.mode="continuous",e;throw new TypeError("Cannot call a class as a function")}return e=o,(t=[{key:"calculateResistance",value:function(t){return this.props.resistivity*t/this.props.crossSectionalArea}},{key:"connect",value:function(t){this.connectedParts.push(t),this.outputs.push(t),this.updateSegmentLengths(t)}},{key:"updateSegmentLengths",value:function(t){this.calculateSegmentLengthsForPartArray(t,this.inputs),this.calculateSegmentLengthsForPartArray(t,this.outputs)}},{key:"calculateSegmentLengthsForPartArray",value:function(e,t){var n=this;t.forEach(function(t){t!==e&&(t=n.calculateSegment(e.position,t.position),n.segments.push(t))})}},{key:"calculateSegment",value:function(t,e){return{input:t,output:e,length:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2))}}},{key:"receive",value:function(t){this.isOn?this.stopTransmit(t):(this.props.signalLoss&&(t=this.applySignalLoss(t)),this.transmit(t))}},{key:"applySignalLoss",value:function(n){var r=this,t=this.segments.reduce(function(t,e){e=r.calculateResistance(e.length);return t+n.current*e},0);return n.voltage=Math.max(n.voltage-t,0),n}},{key:"stopTransmit",value:function(e){this.isOn=!1,this.emit("stopTransmit",e),e.binarySignal=0,this.outputs.forEach(function(t){t.receive&&"function"==typeof t.receive&&"continuous"===t.mode&&t.receive(e)})}},{key:"transmit",value:function(e){this.isOn=!0,this.props.signalLoss&&(e=this.applySignalLoss(e)),this.emit("transmit",this.outputs,e),this.outputs.forEach(function(t){t.receive&&t.receive(e)})}}])&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(r.Part);n=t,r="Wire",(t=s(t="type"))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],18:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}(r.key),r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(){function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.voltage,e=void 0===e?5:e,n=t.current,n=void 0===n?1:n,r=t.resistance,r=void 0===r?0:r,o=t.capacitance,o=void 0===o?0:o,i=t.inductance,i=void 0===i?0:i,u=t.frequency,u=void 0===u?0:u,a=t.phaseAngle,a=void 0===a?0:a,t=t.powerFactor,t=void 0===t?1:t,c=this,s=l;if(!(c instanceof s))throw new TypeError("Cannot call a class as a function");this.voltage=e,this.current=n,this.resistance=r,this.capacitance=o,this.inductance=i,this.frequency=u,this.phaseAngle=a,this.powerFactor=t,this.binarySignal=1}var t,e,n;return t=l,(e=[{key:"calculatePower",value:function(){return this.voltage*this.current}},{key:"encodeUSB",value:function(t){t=1===t?.2:-.2;this.dPlusVoltage=this.voltage+t,this.dMinusVoltage=this.voltage-t}}])&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),l}()},{}],19:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}(r.key),r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.listeners={},this.anyListeners=[]}var e,n,r;return e=t,(n=[{key:"onAny",value:function(t){this.anyListeners.push(t)}},{key:"offAny",value:function(e){this.anyListeners=this.anyListeners.filter(function(t){return t!==e})}},{key:"on",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"off",value:function(t,e){this.listeners[t]&&(this.listeners[t]=this.listeners[t].filter(function(t){return t!==e}))}},{key:"once",value:function(o,i){var u=this;this.on(o,function t(){u.off(o,t);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];i.apply(u,n)})}},{key:"emit",value:function(n){for(var r=this,t=arguments.length,o=new Array(1<t?t-1:0),e=1;e<t;e++)o[e-1]=arguments[e];this.anyListeners.forEach(function(t){try{var e=n;r.type&&(e=r.type+"::"+n),t.call.apply(t,[r,e].concat(o))}catch(t){console.error('Error when executing any listener for event "'.concat(n,'":'),t)}});var i=this.listeners[n];i&&i.forEach(function(t){try{t.apply(r,o)}catch(t){console.error('Error when executing listener for event "'.concat(n,'":'),t)}})}},{key:"listenerCount",value:function(t){return this.listeners[t]?this.listeners[t].length:0}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},{}],20:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function i(t,e,n){(e=u(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function u(t){t=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.id=t.id}var e,n,r;return e=t,(n=[{key:"init",value:function(t){this.game=t,this.createWorld()}},{key:"createWorld",value:function(){var t=this.game;t.setGravity(0,0,0),t.createEntity({type:"BLOCK",texture:"img/game/tiles/tile-block.png",width:32,height:32,position:{x:-400,y:-150},friction:1,frictionAir:1,frictionStatic:1}),t.use("Block"),t.use("Sword"),t.use("Border",{autoBorder:!0}),console.log(t.systems),t.createDefaultPlayer()}},{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"destroy",value:function(){}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();i(a,"id","world-home"),i(a,"type","world"),n.default=a},{}],21:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function i(t,e,n){(e=u(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function u(t){t=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.game=t,this.id=e.id,this.type=e.type}var t,n,r;return t=e,(n=[{key:"init",value:function(t){this.game=t,this.createWorld()}},{key:"createWorld",value:function(){var e=this.game;function t(t){e.createEntity({type:"PLATFORM",isStatic:!0,width:t.width,height:t.height,position:{x:t.x,y:t.y}})}e.setGravity(0,9.8,0),e.use("Platform"),e.on("plugin::ready::Platform",function(){e.systems.platform.kinds.forEach(function(t){}),t({x:0,y:200,width:800,height:60}),t({x:1200,y:200,width:800,height:60}),t({x:0,y:600,width:500,height:60}),t({x:1200,y:600,width:600,height:60})}),e.use("Border",{autoBorder:!0}),console.log(e.systems),e.createDefaultPlayer({mass:100})}},{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"destroy",value:function(){}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();i(a,"id","world-platform"),i(a,"type","world"),n.default=a},{}],22:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){t=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u,a,c,s=function(){function n(){var t=this,e=n;if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");this.averageSnapshotSize=null,this.displayElement=null,this.id=n.id}var t,e,r;return t=n,(e=[{key:"init",value:function(e){this.game=e,this.game.addSystem(this.id,this);var n=e.width/3*-1;e.on("player::joined",function(t){console.log("a player has joined the server",t);t=e.createEntity({id:t.id,type:"PLAYER",shape:"rectangle",restitution:0,mass:9e4,height:300,width:40,friction:0,frictionAir:0,frictionStatic:0,lockedProperties:{position:{x:n}}});e.emit("player::created",t)}),this.createBorder(),this.createBall()}},{key:"update",value:function(){}},{key:"createBall",value:function(){this.game.createEntity({id:"game-ball",type:"BALL",x:0,y:500,height:50,width:50,velocity:{x:8,y:8},maxSpeed:20,restitution:2.5,friction:0,frictionAir:0,frictionStatic:0})}},{key:"createBorder",value:function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=200,r={top:{position:{x:0,y:-600},size:{width:2400,height:n}},bottom:{position:{x:0,y:600},size:{width:2400,height:n}},left:{position:{x:-1100,y:0},size:{width:n,height:1e3}},right:{position:{x:1100,y:0},size:{width:n,height:1e3}}};for(t in r){var o=r[t];void 0===e.id&&(e.id="border"),this.game.createEntity({name:e.id+"-"+t,type:"BORDER",shape:"rectangle",isStatic:!0,position:{x:o.position.x,y:o.position.y},width:o.size.width,height:o.size.height,depth:80})}}}])&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),n}();u=s,c="world-pong",(a=i(a="id"))in u?Object.defineProperty(u,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):u[a]=c,n.default=s},{}],23:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function i(t,e,n){(e=u(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function u(t){t=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.game=t,this.id=e.id,this.type=e.type}var t,n,r;return t=e,(n=[{key:"init",value:function(t){this.game=t,this.createWorld()}},{key:"createWorld",value:function(){var t=this.game;t.use("Bullet"),t.systemsManager.removeSystem("entity-input"),t.systemsManager.removeSystem("entity-movement"),t.use("PhysXPhysics"),t.use("EntityInput"),t.use("EntityMovement"),t.use("Block"),t.use("Editor",{sourceCode:"https://github.com/yantra-core/mantra/blob/master/mantra-client/public/examples/offline/physx-babylon.html"}),t.systems.graphics.switchGraphics("BabylonGraphics",function(){t.createEntity({type:"BLOCK",width:500,height:500,depth:200,position:{x:0,y:-500}}),t.use("Border",{autoBorder:!0}),t.use("StarField"),t.createDefaultPlayer()})}},{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"destroy",value:function(){}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();i(a,"id","world-space"),i(a,"type","world"),n.default=a},{}],24:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function i(t,e,n){(e=u(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function u(t){t=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.game=t,this.id=e.id,this.type=e.type}var t,n,r;return t=e,(n=[{key:"init",value:function(t){this.game=t,this.createWorld()}},{key:"createWorld",value:function(){var t=this.game;t.setGravity(0,0,0),t.zoom(.3),t.use("Bullet"),t.use("Timers"),t.use("Health"),t.on("plugin::loaded::sutra",function(){t.use("StarField"),t.use("TowerWorld",{game:t})}),t.use("Sutra"),t.use("Block",{MIN_BLOCK_SIZE:1e3}),t.use("Border",{autoBorder:!0,thickness:200}),t.data.roundEnded=!1,t.data.roundStarted=!0,t.createDefaultPlayer()}},{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"destroy",value:function(){}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();i(a,"id","world-sutra"),i(a,"type","world"),n.default=a},{}],25:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function i(t,e,n){(e=u(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function u(t){t=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.game=t,this.id=e.id,this.type=e.type}var t,n,r;return t=e,(n=[{key:"init",value:function(t){this.game=t,this.createWorld()}},{key:"createWorld",value:function(){var t=this.game;t.use("Bullet"),t.use("Health"),t.use("Block"),t.use("StarField"),t.on("plugin::ready::XState",function(){t.createDefaultPlayer(),t.systems.xstate.loadEntities()}),t.use("XState",{world:{id:"bossFightGame",world:{width:800,height:600},entities:{boss:{type:"NPC",position:{x:-200,y:-600},height:600,width:600,health:1e3}},stateMachine:{id:"bossFightGame",initial:"Idle",context:{name:"boss",health:1e3},states:{Idle:{on:{START:"Active"}},Active:{on:{"entity::damage":{target:"UpdateEntity",cond:"isBossDamaged"},ENTITY_DESTROYED:{target:"Victory",cond:"isBossDefeated"}}},UpdateEntity:{on:{COMPLETE_UPDATE:"Active"},entry:"calculateComponentUpdate"},Victory:{type:"final"}},on:{}},guards:{isBossDamaged:function(t,e){return console.log("isBossDamaged",t,e),e.name===t.name&&"entity::damage"===e.type},isBossDefeated:function(t,e){return console.log("isBossDefeated",t,e),e.name===t.name&&"ENTITY_DESTROYED"===e.type}},actions:{calculateComponentUpdate:function(t,e){t.health-=e.damage;var e=255,n=255,r=0,o=255,i=0,u=0,a=Math.max(t.health,0)/1e3,i=n+(i-n)*(1-a),n=r+(u-r)*(1-a);t.color=Math.round(e+(o-e)*(1-a))<<16|Math.round(i)<<8|Math.round(n)}}}}),t.systems.graphics.switchGraphics("PhaserGraphics",function(){})}},{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"destroy",value:function(){}},{key:"unload",value:function(){this.game.systems.xstate.unload()}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();i(a,"id","world-xstate"),i(a,"type","world"),n.default=a},{}],26:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=(t=t("./contraptions-example.js"))&&t.__esModule?t:{default:t};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function u(t,e,n){(e=a(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function a(t){t=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==r(t)?t:String(t)}t=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.game=t,this.id=e.id,this.type=e.type}var t,n,r;return t=e,(n=[{key:"init",value:function(t){this.game=t,this.createWorld()}},{key:"createWorld",value:function(){var t=this.game;t.setGravity(0,0,0),t.use("Entity"),console.log("contraptionsExample",o.default),t.use("YCraft",{contraption:o.default}),t.use("YCraftGUI"),t.once("plugin::loaded::typer-ghost",function(){t.systems["typer-ghost"].createText({x:300,y:500,text:"YCraft Crafting World",style:{color:"white",fontSize:"144px"},duration:1e4})})}},{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"destroy",value:function(){}},{key:"unload",value:function(){console.log("YCraft.unload()")}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();u(t,"id","world-ycraft"),u(t,"type","world"),n.default=t},{"./contraptions-example.js":27}],27:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var t=new c.YCraft(0,150,0,{description:"Simple Light",height:350,width:800}),e=new c.Button(-100,-150,0),n=new c.Latch(-100,0,0),r=new c.LEDLight(100,-75,200,{wattage:60,height:250,width:250}),r=(e.connect(r),n.connect(r),t.addPart(r),t.addPart(e),t.addPart(n),new c.YCraft(0,600,0,{description:"Wired Light",height:400,width:800})),e=new c.Wire,n=new c.Wire,o=new c.Button(-150,-150,0),i=new c.Latch(-150,0,0),u=new c.Relay(0,-75,0),a=new c.LEDLight(150,-75,800,{wattage:60,height:250,width:250}),a=(o.connect(e),i.connect(e),e.connect(u),u.connect(n),n.connect(a),r.addPart(a),r.addPart(o),r.addPart(i),r.addPart(u),r.addPart(e),r.addPart(n),new c.YCraft);return a.addContraption(t),a.addContraption(r),a};var c=t("../../../YCraft.js/index.js")},{"../../../YCraft.js/index.js":1}],28:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"worlds",{enumerable:!0,get:function(){return r.default}});var r=(n=t("./index.js"))&&n.__esModule?n:{default:n}},{"./index.js":29}],29:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(t("./Home/Home.js")),o=s(t("./Platform/Platform.js")),i=s(t("./Pong/Pong.js")),u=s(t("./Space/Space.js")),a=s(t("./Sutra/Sutra.js")),c=s(t("./XState/XState.js")),t=s(t("./YCraft/YCraft.js"));function s(t){return t&&t.__esModule?t:{default:t}}var l={};l.Home=r.default,l.Platform=o.default,l.Pong=i.default,l.Space=u.default,l.Sutra=a.default,l.XState=c.default,l.YCraft=t.default,n.default=l},{"./Home/Home.js":20,"./Platform/Platform.js":21,"./Pong/Pong.js":22,"./Space/Space.js":23,"./Sutra/Sutra.js":24,"./XState/XState.js":25,"./YCraft/YCraft.js":26}]},{},[28])(28)});
//# sourceMappingURL=worlds.mantra.min.js.map