!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).WORLDS=t()}(function(){return function r(o,i,u){function a(e,t){if(!i[e]){if(!o[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(c)return c(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}n=i[e]={exports:{}},o[e][0].call(n.exports,function(t){return a(o[e][1][t]||t)},n,n.exports,r,o,i,u)}return i[e].exports}for(var c="function"==typeof require&&require,t=0;t<u.length;t++)a(u[t]);return a}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Actuator",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"Amplifier",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"Button",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"Craft",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"Display",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"ElectricalSignal",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"LEDLight",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(n,"LaserSensor",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"Latch",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"Mirror",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(n,"MotionDetector",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(n,"PressureSensor",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"Relay",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(n,"Rover",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(n,"VirtualMachine",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(n,"Wire",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(n,"YCraft",{enumerable:!0,get:function(){return r.default}});var r=g(t("./lib/YCraft.js")),o=g(t("./lib/signals/ElectricalSignal.js")),i=g(t("./lib/parts/Actuator.js")),u=g(t("./lib/parts/Amplifier.js")),a=g(t("./lib/parts/Button.js")),c=g(t("./lib/parts/Display.js")),s=g(t("./lib/parts/LaserSensor.js")),l=g(t("./lib/parts/Latch.js")),f=g(t("./lib/parts/LEDLight.js")),p=g(t("./lib/parts/Mirror.js")),y=g(t("./lib/parts/MotionDetector.js")),d=g(t("./lib/parts/PressureSensor.js")),h=g(t("./lib/parts/Relay.js")),b=g(t("./lib/parts/Rover.js")),v=g(t("./lib/parts/VirtualMachine.js")),m=g(t("./lib/parts/Wire.js"));function g(t){return t&&t.__esModule?t:{default:t}}},{"./lib/YCraft.js":3,"./lib/parts/Actuator.js":4,"./lib/parts/Amplifier.js":5,"./lib/parts/Button.js":6,"./lib/parts/Display.js":7,"./lib/parts/LEDLight.js":8,"./lib/parts/LaserSensor.js":9,"./lib/parts/Latch.js":10,"./lib/parts/Mirror.js":11,"./lib/parts/MotionDetector.js":12,"./lib/parts/PressureSensor.js":13,"./lib/parts/Relay.js":14,"./lib/parts/Rover.js":15,"./lib/parts/VirtualMachine.js":16,"./lib/parts/Wire.js":17,"./lib/signals/ElectricalSignal.js":18}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Part=void 0;t=(t=t("./utils/EventEmitter.js"))&&t.__esModule?t:{default:t};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function c(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n),e=(t=r?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}var s,n=n.Part=function(t){var e=u;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t);var n,i=c(u);function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=this,o=u;if(r instanceof o)return(r=i.call(this)).id=u.idCounter++,r.position={x:t,y:e,z:n},r.size={width:16,height:16,depth:16},r.props={},r;throw new TypeError("Cannot call a class as a function")}return e=u,(t=[{key:"setYCraft",value:function(t){this.yCraft=t}}])&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(t.default);t=n,n=0,(s=u(s="idCounter"))in t?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n},{"./utils/EventEmitter.js":19}],3:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(t=t("./utils/EventEmitter.js"))&&t.__esModule?t:{default:t};function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}(r.key),r)}}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function a(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=c(n),e=(t=r?(t=c(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}t=function(t){var e=l;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t);var n,s=a(l);function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=r.powerRequired,o=void 0!==o&&o,i=r.height,i=void 0===i?160:i,u=r.width,u=void 0===u?160:u,r=r.description,r=void 0===r?"A YCraft contraption":r,a=this,c=l;if(a instanceof c)return(a=s.call(this)).position={x:t,y:e,z:n},a.height=i,a.width=u,a.description=r,a.powerRequired=o,a.parts=[],a.contraptions=[],a;throw new TypeError("Cannot call a class as a function")}return e=l,(t=[{key:"start",value:function(){0<this.parts.length&&(this.parts[0].onFn?this.parts[0].onFn():console.log("Warning: ".concat(this.parts[0].constructor.name," does not have an onFn method"))),0<this.contraptions.length&&this.contraptions.forEach(function(t){t.start()})}},{key:"stop",value:function(){0<this.parts.length&&(this.parts[0].offFn?this.parts[0].offFn():console.log("Warning: ".concat(this.parts[0].constructor.name," does not have an offFn method")))}},{key:"addContraption",value:function(t){var o=this,e=this.position.x,n=this.position.y,r=this.position.z;t.setPosition(t.position.x+e,t.position.y+n,t.position.z+r),this.contraptions.push(t),t.onAny(function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];o.emit.apply(o,[t].concat(n))}),"function"==typeof t.setYCraft&&t.setYCraft(this)}},{key:"addPart",value:function(t){var o=this;t.position.x+=this.position.x,t.position.y+=this.position.y,t.position.z+=this.position.z,this.parts.push(t),t instanceof r.default&&(t.onAny(function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];o.emit.apply(o,[t].concat(n))}),"function"==typeof t.setYCraft)&&t.setYCraft(this)}},{key:"findpart",value:function(e){return this.parts.find(function(t){return t instanceof e})}},{key:"setPowerRequired",value:function(t){this.config.powerRequired=t}},{key:"connect",value:function(t){t instanceof YCraftComponent&&(this.yCraft,t.yCraft)}},{key:"run",value:function(){}},{key:"tick",value:function(){this.parts.forEach(function(t){"function"==typeof t.update&&t.update()})}},{key:"setMode",value:function(t){this.mode=t}},{key:"setPosition",value:function(t,e,n){var r=t-this.position.x,o=e-this.position.y,i=n-this.position.z;this.position.x=t,this.position.y=e,this.position.z=n,this.parts.forEach(function(t){t.position.x+=r,t.position.y+=o,t.position.z+=i})}},{key:"toJSON",value:function(){var e=this;return{powerRequired:this.powerRequired,parts:this.parts.map(function(t){return{type:t.constructor.name,properties:e.getPartProperties(t),connections:e.getPartConnections(t),position:t.position,size:t.size}})}}},{key:"getPartProperties",value:function(t){var e={};if(t.props)for(var n in t.props)e[n]=t.props[n];return e}},{key:"getPartConnections",value:function(t){var e=[];return t.connectedParts&&t.connectedParts.forEach(function(t){e.push({id:t.id,type:t.constructor.name})}),e}}])&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(r.default);n.default=t},{"./utils/EventEmitter.js":19}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;t=t("../Part.js");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function i(t,e){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function c(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=u(n),e=(t=r?(t=u(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}var l,n=n.default=function(t){var e=a;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t);var n,u=c(a);function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=(3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}).frequency,r=void 0===r?1e3:r,o=this,i=a;if(o instanceof i)return(o=u.call(this,t,e,n)).type=a.type,o.isActive=!1,o.isOn=!1,o.onFn=o.start.bind(s(o)),o.offFn=o.stop.bind(s(o)),o.timers={pulse:null},o.frequency=r,o.connectedParts=[],o;throw new TypeError("Cannot call a class as a function")}return e=a,(t=[{key:"connect",value:function(t){"Wire"===t.constructor.name&&t.inputs.push(this),this.connectedParts.push(t)}},{key:"receive",value:function(t){console.log("Actuator received signal",t),this.signal=t,this.toggle()}},{key:"toggle",value:function(){this.isOn?(this.stop(),this.emit("stop"),this.isOn=!1):(this.start(),this.emit("start"),this.isOn=!0,this.update())}},{key:"start",value:function(){var t=this;null===this.timers.pulse&&(this.timers.pulse=setInterval(function(){t.update()},this.frequency))}},{key:"stop",value:function(){null!==this.timers.pulse&&(clearInterval(this.timers.pulse),this.timers.pulse=null)}},{key:"update",value:function(){var e=this;this.isOn&&(this.emit("pulse",this.signal),this.connectedParts.forEach(function(t){return t.receive(e.signal)}))}},{key:"unload",value:function(){this.stop()}}])&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(t.Part);t=n,n="Actuator",(l=a(l="type"))in t?Object.defineProperty(t,l,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[l]=n},{"../Part.js":2}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("../Part.js"),c=(t=t("../signals/ElectricalSignal.js"))&&t.__esModule?t:{default:t};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function i(t,e){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=u(n),e=(t=r?(t=u(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){t=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==s(t)?t:String(t)}var t=n.default=function(t){var e=a;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t);var n,u=l(a);function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=(3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}).amplitude,r=void 0===r?2:r,o=this,i=a;if(o instanceof i)return"object"===s(t)&&(r=t.amplitude||r,n=t.z||0,e=t.y||0,t=t.x||0),(o=u.call(this,t,e,n)).type=a.type,o.connectedParts=[],o.mode="continuous",o.amplitude=r,o.signal=new c.default,o.outputs=[],o.inputs=[],o.onFn=o.activate.bind(f(o)),o.offFn=o.deactivate.bind(f(o)),o;throw new TypeError("Cannot call a class as a function")}return e=a,(t=[{key:"setYCraft",value:function(t){this.yCraft=t}},{key:"connect",value:function(t){void 0!==t.inputs&&t.inputs.push(this),this.outputs.push(t)}},{key:"activate",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn=!0,this.emit("activate",t),this.transmit(t)}},{key:"deactivate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn=!1,this.emit("deactivate",e),e.binarySignal=0,this.outputs.forEach(function(t){t.receive&&"function"==typeof t.receive&&"continuous"===t.mode&&t.receive(e)})}},{key:"toggle",value:function(){this.isOn?this.deactivate():this.activate()}},{key:"receive",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn?this.deactivate(t):(t.current=t.current*this.amplitude,this.activate(t))}},{key:"transmit",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.outputs.forEach(function(t){t.receive&&t.receive(e)})}},{key:"update",value:function(){}}])&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(r.Part);n=t,r="Amplifier",(t=a(t="type"))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("../Part.js"),a=(t=t("../signals/ElectricalSignal.js"))&&t.__esModule?t:{default:t};function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n),e=(t=r?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){t=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==c(t)?t:String(t)}var t=n.default=function(t){var e=u;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t);var n,i=l(u);function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=this,o=u;if(r instanceof o)return"object"===c(t)&&(n=t.z||0,e=t.y||0,t=t.x||0),(r=i.call(this,t,e,n)).type=u.type,r.signal=new a.default,r.connectedParts=[],r.isOn=!1,r.onFn=r.press.bind(f(r)),r.offFn=r.release.bind(f(r)),r;throw new TypeError("Cannot call a class as a function")}return e=u,(t=[{key:"setYCraft",value:function(t){this.yCraft=t}},{key:"connect",value:function(t){void 0!==t.inputs&&t.inputs.push(this),this.connectedParts.push(t)}},{key:"press",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn=!0,this.emit("press",e),this.connectedParts.forEach(function(t){t.receive&&"function"==typeof t.receive&&t.receive(e)})}},{key:"release",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn=!1,this.emit("release"),e.binarySignal=0,this.connectedParts.forEach(function(t){t.receive&&"function"==typeof t.receive&&"continuous"===t.mode&&t.receive(e)})}},{key:"receive",value:function(t){}},{key:"transmit",value:function(e){this.connectedParts.forEach(function(t){t.receive&&t.receive(e)})}}])&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(r.Part);n=t,r="Button",(t=u(t="type"))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("../Part.js"),o=(t=t("../signals/ElectricalSignal.js"))&&t.__esModule?t:{default:t};function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=u(n),e=(t=r?(t=u(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){t=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==c(t)?t:String(t)}var t=n.default=function(t){var e=a;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t);var n,u=l(a);function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=(3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}).text,r=void 0===r?"Your Sign Here":r,o=this,i=a;if(o instanceof i)return"object"===c(t)&&(n=t.z||0,e=t.y||0,t=t.x||0),(o=u.call(this,t,e,n)).type=a.type,o.text=r,o.connectedParts=[],o.inputs=[],o;throw new TypeError("Cannot call a class as a function")}return e=a,(t=[{key:"setText",value:function(t){this.text=t,console.log("Display text set to: ".concat(this.text))}},{key:"connect",value:function(t){this.connectedParts.push(t),this.inputs.push(t)}},{key:"receive",value:function(t){t instanceof o.default&&this.setText(t.data)}}])&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(r.Part);n=t,r="Display",(t=a(t="type"))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;t=t("../Part.js");function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function o(t,e){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function i(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=u(n),e=(t=r?(t=u(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){t=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==s(t)?t:String(t)}var c,n=n.default=function(t){var e=c;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t);var n,a=i(c);function c(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=r.wattage,o=void 0===o?40:o,r=r.maxWattage,r=void 0===r?120:r,i=this,u=c;if(i instanceof u)return"object"===s(t)&&(o=t.wattage||o,r=t.maxWattage||r,n=t.z||0,e=t.y||0,t=t.x||0),(i=a.call(this,t,e,n)).toggleFn=i.toggle.bind(l(i)),i.mode="continuous",i.onFn=i.activate.bind(l(i)),i.offFn=i.deactivate.bind(l(i)),i.type=c.type,i.isOn=!1,i.color=65280,i.props={},i.props.wattage=o,i.props.maxWattage=r,i.props.isBroken=!1,i;throw new TypeError("Cannot call a class as a function")}return e=c,(t=[{key:"setYCraft",value:function(t){this.yCraft=t}},{key:"activate",value:function(t){this.isOn=!0,this.emit("activate",t)}},{key:"deactivate",value:function(t){this.isOn=!1,this.emit("deactivate",t)}},{key:"toggle",value:function(t){this.isOn?this.deactivate(t):this.activate(t)}},{key:"receive",value:function(t){var e;this.props.isBroken||(e=(this.signal=t).calculatePower(),this.isOn?this.deactivate(t):(!this.yCraft.powerRequired||e>=this.props.wattage)&&this.activate(t))}},{key:"break",value:function(t){this.props.isBroken=!0,this.emit("broken")}},{key:"handleCollision",value:function(t){this.props.isBroken||"Rover"===t.type&&(this.isOn=!1,this.props.isBroken=!0,this.props.color="grey",this.emit("broken"))}},{key:"update",value:function(){this.props.isBroken}}])&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(t.Part);t=n,n="LEDLight",(c=a(c="type"))in t?Object.defineProperty(t,c,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[c]=n},{"../Part.js":2}],9:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=u(t("../utils/EventEmitter.js")),i=u(t("../signals/ElectricalSignal.js"));function u(t){return t&&t.__esModule?t:{default:t}}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}(r.key),r)}}function c(t,e){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=l(n),e=(t=r?(t=l(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.default=function(t){var e=o;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t);var n,r=s(o);function o(){var t;if(this instanceof o)return(t=r.call(this)).connectedComponent=null,t.laserSignal=new i.default({voltage:5,current:.1}),t;throw new TypeError("Cannot call a class as a function")}return e=o,(t=[{key:"connect",value:function(t){this.connectedComponent=t}},{key:"emitLaser",value:function(){this.connectedComponent&&this.connectedComponent.receive(this.laserSignal)}},{key:"receive",value:function(t){}}])&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(r.default)},{"../signals/ElectricalSignal.js":18,"../utils/EventEmitter.js":19}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("../Part.js"),a=(t=t("../signals/ElectricalSignal.js"))&&t.__esModule?t:{default:t};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n),e=(t=r?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}var t=n.default=function(t){var e=u;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t);var n,i=l(u);function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=this,o=u;if(r instanceof o)return(r=i.call(this,t,e,n)).type=u.type,r.connectedParts=[],r.signal=new a.default,r.isLatched=!1,r.onFn=r.engage.bind(f(r)),r.offFn=r.disengage.bind(f(r)),r;throw new TypeError("Cannot call a class as a function")}return e=u,(t=[{key:"setYCraft",value:function(t){this.yCraft=t}},{key:"connect",value:function(t){"Wire"===t.constructor.name&&t.inputs.push(this),this.connectedParts.push(t)}},{key:"toggle",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.isLatched?this.disengage(t):this.engage(t)}},{key:"engage",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.isLatched=!0,this.emit("engage",t),this.transmit(t)}},{key:"disengage",value:function(t){this.isLatched=!1,this.emit("disengage"),this.transmit(t)}},{key:"transmit",value:function(e){this.connectedParts.forEach(function(t){t.receive&&t.receive(e)})}}])&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(r.Part);n=t,r="Latch",(t=u(t="type"))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],11:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;t=(t=t("../utils/EventEmitter.js"))&&t.__esModule?t:{default:t};function i(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function u(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach(function(t){var e,n;e=r,n=o[t=t],(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))})}return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function c(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=f(n),e=(t=r?(t=f(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.default=function(t){var e=o;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t);var n,r=l(o);function o(){var t;if(this instanceof o)return(t=r.call(this)).connectedComponent=null,t.orientation=0,t;throw new TypeError("Cannot call a class as a function")}return e=o,(t=[{key:"connect",value:function(t){this.connectedComponent=t}},{key:"setOrientation",value:function(t){this.orientation=t}},{key:"receive",value:function(t){"LightSignal"===t.constructor.name&&(console.log("Mirror: Reflecting laser at orientation ".concat(this.orientation," degrees.")),this.connectedComponent)&&(t=u(u({},t),{},{direction:this.calculateReflectionDirection(t.direction)}),this.connectedComponent.receive(t))}},{key:"calculateReflectionDirection",value:function(t){return(t+2*this.orientation)%360}}])&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(t.default)},{"../utils/EventEmitter.js":19}],12:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("../Part.js"),o=(t=t("../signals/ElectricalSignal.js"))&&t.__esModule?t:{default:t};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=a(n),e=(t=r?(t=a(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){t=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==i(t)?t:String(t)}var t=n.default=function(t){var e=c;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t);var n,a=l(c);function c(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=r.motionTimeout,o=void 0===o?4e3:o,r=r.debounceDelay,r=void 0===r?500:r,i=this,u=c;if(i instanceof u)return(i=a.call(this,t,e,n)).type=c.type,i.isConnected=!1,i.connectedParts=[],i.motionTimeout=o,i.debounceDelay=r,i.lastMotionTime=0,i.motionTimer=null,i.onFn=i.detectMotion.bind(f(i)),i.offFn=function(){},i;throw new TypeError("Cannot call a class as a function")}return e=c,(t=[{key:"connect",value:function(t){this.isConnected=!0,"Wire"===t.constructor.name&&t.inputs.push(this),this.connectedParts.push(t)}},{key:"detectMotion",value:function(){var t=this,e=Date.now();e-this.lastMotionTime<this.debounceDelay||(this.lastMotionTime=e,this.isConnected?((e=new o.default({voltage:5})).encodeUSB(1),console.log("Motion detected!"),this.transmit(e),this.emit("motion",e),clearTimeout(this.motionTimer),this.motionTimer=setTimeout(function(){t.emit("still")},this.motionTimeout)):console.log("Motion detector is not connected to any component."))}},{key:"transmit",value:function(e){this.connectedParts.forEach(function(t){"function"==typeof t.receive&&t.receive(e)})}},{key:"update",value:function(){}}])&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(r.Part);n=t,r="MotionDetector",(t=c(t="type"))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],13:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=(r=t("../signals/ElectricalSignal.js"))&&r.__esModule?r:{default:r},r=t("../Part.js");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=u(n),e=(t=r?(t=u(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}var t=n.default=function(t){var e=a;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t);var n,u=l(a);function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=(3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}).debounceDelay,r=void 0===r?500:r,o=this,i=a;if(o instanceof i)return(o=u.call(this,t,e,n)).type=a.type,o.connectedParts=[],o.signal=new c.default,o.debounceDelay=r,o.lastTriggerTime=0,o.onFn=o.trigger.bind(f(o)),o.offFn=o.release.bind(f(o)),o;throw new TypeError("Cannot call a class as a function")}return e=a,(t=[{key:"connect",value:function(t){"Wire"===t.constructor.name&&t.inputs.push(this),this.connectedParts.push(t)}},{key:"toggle",value:function(){Date.now()-this.lastTriggerTime<this.debounceDelay||(this.isOn?this.release():this.trigger())}},{key:"trigger",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.lastTriggerTime=Date.now(),this.isOn=!0,this.emit("trigger",e),this.connectedParts.forEach(function(t){t.receive&&"function"==typeof t.receive&&t.receive(e)})}},{key:"release",value:function(){var e=this;this.isOn=!1,this.emit("release"),this.connectedParts.forEach(function(t){t.off&&"function"==typeof t.off&&t.off(e.signal)})}},{key:"receive",value:function(t){}}])&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(r.Part);n=t,r="PressureSensor",(t=a(t="type"))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],14:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("../Part.js"),a=(t=t("../signals/ElectricalSignal.js"))&&t.__esModule?t:{default:t};function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n),e=(t=r?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){t=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==c(t)?t:String(t)}var t=n.default=function(t){var e=u;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t);var n,i=l(u);function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=((3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}).amplitude,this),o=u;if(r instanceof o)return"object"===c(t)&&(n=t.z||0,e=t.y||0,t=t.x||0),(r=i.call(this,t,e,n)).type=u.type,r.connectedParts=[],r.mode="continuous",r.signal=new a.default,r.outputs=[],r.inputs=[],r.onFn=r.activate.bind(f(r)),r.offFn=r.deactivate.bind(f(r)),r;throw new TypeError("Cannot call a class as a function")}return e=u,(t=[{key:"setYCraft",value:function(t){this.yCraft=t}},{key:"connect",value:function(t){void 0!==t.inputs&&t.inputs.push(this),this.outputs.push(t)}},{key:"activate",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn=!0,this.emit("activate",t),this.transmit(t)}},{key:"deactivate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn=!1,this.emit("deactivate",e),e.binarySignal=0,this.outputs.forEach(function(t){t.receive&&"function"==typeof t.receive&&"continuous"===t.mode&&t.receive(e)})}},{key:"toggle",value:function(){this.isOn?this.deactivate():this.activate()}},{key:"receive",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn?this.deactivate(t):this.activate(t)}},{key:"transmit",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.signal;this.outputs.forEach(function(t){t.receive&&t.receive(e)})}},{key:"update",value:function(){}}])&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(r.Part);n=t,r="Relay",(t=u(t="type"))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],15:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function i(t,e){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=a(n),e=(t=r?(t=a(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,f,p,t=function(t){var e=s;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t);var n,c=u(s);function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=r.velocity,o=void 0===o?{x:5,y:5}:o,i=r.color,i=void 0===i?13421772:i,r=r.movementRate,r=void 0===r?16.666:r,u=this,a=s;if(u instanceof a)return(u=c.call(this,t,e,n)).type=s.type,u.props={},u.props.velocity=o,u.props.color=i,u.props.movementRate=r,u.state="inactive",u.isOn=!1,u.timers={movement:null},u.defaultDelay=100,u.collisionCooldown=!1,u.onFn=u.start.bind(l(u)),u.offFn=u.stop.bind(l(u)),u.on("collision",u.handleCollision),u;throw new TypeError("Cannot call a class as a function")}return e=s,(t=[{key:"setYCraft",value:function(t){this.yCraft=t}},{key:"start",value:function(){var t=this;this.state="active",this.isOn=!0,this.timers.movementInterval&&clearInterval(this.timers.movementInterval),this.timers.movementInterval=setInterval(function(){return t.update()},this.props.movementRate)}},{key:"stop",value:function(){this.state="inactive",this.isOn=!1,this.timers.movementInterval&&clearInterval(this.timers.movementInterval)}},{key:"update",value:function(){"active"===this.state&&(this.emit("move",this.position),this.position.x+=this.props.velocity.x,this.position.y+=this.props.velocity.y)}},{key:"handleCollision",value:function(t){"Wire"===t.name||"Rover"===t.name||this.collisionCooldown||(this.props.velocity.x*=-1,this.props.velocity.y*=-1,this.emit("move",this.position),this.startCollisionCooldown())}},{key:"startCollisionCooldown",value:function(){var t=this;this.collisionCooldown=!0,setTimeout(function(){t.collisionCooldown=!1},this.props.movementRate)}},{key:"unload",value:function(){this.timers.movementInterval&&clearInterval(this.timers.movementInterval)}}])&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(t("../Part.js").Part);s=t,p="Rover",(f=c(f="type"))in s?Object.defineProperty(s,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):s[f]=p,n.default=t},{"../Part.js":2}],16:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("../Part.js");(t=t("../signals/ElectricalSignal.js"))&&t.__esModule;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function a(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=c(n),e=(t=r?(t=c(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}var t=n.default=function(t){var e=o;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t);var n,r=a(o);function o(){var t;if(this instanceof o)return(t=r.call(this)).type=o.type,t.props={},t.image=function(t){return t},t.connectedParts=[],t.inputs=[],t.outputs=[],t;throw new TypeError("Cannot call a class as a function")}return e=o,(t=[{key:"setImage",value:function(t){this.image=t}},{key:"connect",value:function(t){this.connectedParts.push(t),this.outputs.push(t)}},{key:"receive",value:function(t){t=this.image(t);this.transmit(t)}},{key:"transmit",value:function(e){this.emit("transmit",this.outputs,e),this.outputs.forEach(function(t){t.receive&&t.receive(e)})}}])&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(r.Part);n=t,r="VirtualMachine",(t=s(t="type"))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],17:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("../Part.js");(t=t("../signals/ElectricalSignal.js"))&&t.__esModule;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function a(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=c(n),e=(t=r?(t=c(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}var t=n.default=function(t){var e=o;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t);var n,r=a(o);function o(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).signalLoss,t=void 0===t||t,e=this,n=o;if(e instanceof n)return(e=r.call(this)).type=o.type,e.props={signalLoss:t,resistivity:1.68e-8,crossSectionalArea:208e-8},e.connectedParts=[],e.segments=[],e.inputs=[],e.outputs=[],e.mode="continuous",e;throw new TypeError("Cannot call a class as a function")}return e=o,(t=[{key:"calculateResistance",value:function(t){return this.props.resistivity*t/this.props.crossSectionalArea}},{key:"connect",value:function(t){this.connectedParts.push(t),this.outputs.push(t),this.updateSegmentLengths(t)}},{key:"updateSegmentLengths",value:function(t){this.calculateSegmentLengthsForPartArray(t,this.inputs),this.calculateSegmentLengthsForPartArray(t,this.outputs)}},{key:"calculateSegmentLengthsForPartArray",value:function(e,t){var n=this;t.forEach(function(t){t!==e&&(t=n.calculateSegment(e.position,t.position),n.segments.push(t))})}},{key:"calculateSegment",value:function(t,e){return{input:t,output:e,length:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2))}}},{key:"receive",value:function(t){this.isOn?this.stopTransmit(t):(this.props.signalLoss&&(t=this.applySignalLoss(t)),this.transmit(t))}},{key:"applySignalLoss",value:function(n){var r=this,t=this.segments.reduce(function(t,e){e=r.calculateResistance(e.length);return t+n.current*e},0);return n.voltage=Math.max(n.voltage-t,0),n}},{key:"stopTransmit",value:function(e){this.isOn=!1,this.emit("stopTransmit",e),e.binarySignal=0,this.outputs.forEach(function(t){t.receive&&"function"==typeof t.receive&&"continuous"===t.mode&&t.receive(e)})}},{key:"transmit",value:function(e){this.isOn=!0,this.props.signalLoss&&(e=this.applySignalLoss(e)),this.emit("transmit",this.outputs,e),this.outputs.forEach(function(t){t.receive&&t.receive(e)})}}])&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(r.Part);n=t,r="Wire",(t=s(t="type"))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],18:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}(r.key),r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(){function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.voltage,e=void 0===e?5:e,n=t.current,n=void 0===n?1:n,r=t.resistance,r=void 0===r?0:r,o=t.capacitance,o=void 0===o?0:o,i=t.inductance,i=void 0===i?0:i,u=t.frequency,u=void 0===u?0:u,a=t.phaseAngle,a=void 0===a?0:a,t=t.powerFactor,t=void 0===t?1:t,c=this,s=l;if(!(c instanceof s))throw new TypeError("Cannot call a class as a function");this.voltage=e,this.current=n,this.resistance=r,this.capacitance=o,this.inductance=i,this.frequency=u,this.phaseAngle=a,this.powerFactor=t,this.binarySignal=1}var t,e,n;return t=l,(e=[{key:"calculatePower",value:function(){return this.voltage*this.current}},{key:"encodeUSB",value:function(t){t=1===t?.2:-.2;this.dPlusVoltage=this.voltage+t,this.dMinusVoltage=this.voltage-t}}])&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),l}()},{}],19:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==o(t)?t:String(t)}(r.key),r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.listeners={},this.anyListeners=[]}var e,n,r;return e=t,(n=[{key:"onAny",value:function(t){this.anyListeners.push(t)}},{key:"offAny",value:function(e){this.anyListeners=this.anyListeners.filter(function(t){return t!==e})}},{key:"on",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"off",value:function(t,e){this.listeners[t]&&(this.listeners[t]=this.listeners[t].filter(function(t){return t!==e}))}},{key:"once",value:function(o,i){var u=this;this.on(o,function t(){u.off(o,t);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];i.apply(u,n)})}},{key:"emit",value:function(n){for(var r=this,t=arguments.length,o=new Array(1<t?t-1:0),e=1;e<t;e++)o[e-1]=arguments[e];this.anyListeners.forEach(function(t){try{var e=n;r.type&&(e=r.type+"::"+n),t.call.apply(t,[r,e].concat(o))}catch(t){console.error('Error when executing any listener for event "'.concat(n,'":'),t)}});var i=this.listeners[n];i&&i.forEach(function(t){try{t.apply(r,o)}catch(t){console.error('Error when executing listener for event "'.concat(n,'":'),t)}})}},{key:"listenerCount",value:function(t){return this.listeners[t]?this.listeners[t].length:0}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},{}],20:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(o,t){o.createEntity({type:"Walker",sutra:"walker",width:22,height:24,texture:{sheet:"jogurt",sprite:"walkLeft"},depth:64,position:{x:50,y:-150,z:32}});var i=o.createSutra();return i.route=t.route,i.routeIndex=0,i.target=i.route[i.routeIndex],i.tolerance=t.tolerance||5,i.addCondition("isWalker",function(t){return"Walker"===t.type}),i.addCondition("atTarget",function(t){var e=t.position.x-i.target[0],t=t.position.y-i.target[1];return Math.sqrt(e*e+t*t)<i.tolerance}),i.on("nextWaypoint",function(t){i.routeIndex<i.route.length-1?i.routeIndex++:i.routeIndex=0,i.target=i.route[i.routeIndex]}),i.if("isWalker").if("atTarget").then("nextWaypoint"),i.if("isWalker").then("entity::updateEntity"),i.on("entity::updateEntity",function(t){var e=i.target[0]-t.position.x,n=i.target[1]-t.position.y,r=Math.sqrt(e*e+n*n);o.updateEntity({id:t.id,velocity:{x:0<r?e/r:0,y:0<r?n/r:0}})}),i}},{}],21:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.createEntity({type:"DEMON",texture:"demon",width:8,height:8,depth:64,position:{x:-60,y:-60,z:32}}),t.createEntity({type:"DEMON",texture:"demon",width:8,height:8,depth:64,position:{x:64,y:-60,z:32}});t=t.createSutra();return t.addCondition("entityTouchedDemon",function(t,e){if(console.log("entityTouchedDemon check",t),"COLLISION"===t.type&&"START"===t.kind&&void 0!==t.DEMON)return!0}),t}},{}],22:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(n){n.createEntity({type:"FIRE",texture:{sheet:"loz_spritesheet",sprite:"fire"},width:16,height:16,depth:64,isStatic:!0,position:{x:-80,y:-60,z:32}}),n.createEntity({type:"FIRE",texture:{sheet:"loz_spritesheet",sprite:"fire"},width:16,height:16,depth:64,isStatic:!0,position:{x:80,y:-60,z:32}});var t=n.createSutra();return t.addCondition("entityTouchedFire",function(t,e){if("COLLISION"===t.type&&"START"===t.kind)return"FIRE"===t.bodyA.type||"FIRE"===t.bodyB.type||void 0}),t.if("entityTouchedFire").then("playNote",{note:"F#4"}).then("damageEntity"),t.on("damageEntity",function(t){t="FIRE"===t.bodyA.type?t.bodyB:t.bodyA;n.removeEntity(t.id),"PLAYER"===t.type&&(n.currentPlayerId=null,n.createDefaultPlayer())}),n.on("pointerDown",function(t,e){"FIRE"===t.type&&n.playNote("G4")}),t}},{}],23:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(c){for(var t=0;t<22;t++){var e=t/22*2*Math.PI,n=80*Math.cos(e),e=80*Math.sin(e);c.createEntity({type:"HEXAPOD",texture:"demon",width:8,height:8,isStatic:!1,position:{x:n,y:e},velocity:{x:0,y:0}})}var r=c.createSutra();return r.if("bulletHitHexapod").then("hexapodGrow"),r.addCondition("bulletHitHexapod",function(t,e){return"COLLISION"===t.type&&"START"===t.kind&&t.HEXAPOD&&t.BULLET}),r.on("hexapodGrow",function(t){t=t.HEXAPOD;c.updateEntity({id:t.id,width:1.1*t.width,height:1.1*t.height})}),r.if("hexapodTick").then("hexapodThink"),r.addCondition("hexapodTick",function(t,e){return"HEXAPOD"===t.type&&e.tick%1==0}),r.on("hexapodThink",function(t,e,n){var r=t,t=n.ents.HEXAPOD,o={x:0,y:0},i={x:0,y:0},u={x:0,y:0},a={x:0,y:0},n=(void 0!==n.currentPlayer&&n.currentPlayer&&(n=n.currentPlayer.position,n=s.sub(n,r.position),a=s.mult(s.normalize(n),.4)),t.forEach(function(t){var e;t.id!==r.id&&((e=s.magnitude(s.sub(r.position,t.position)))<1500&&(o=s.add(o,t.velocity)),e<1500&&(i=s.add(i,t.position)),e<r.width+t.width)&&(t=s.sub(r.position,t.position),u=s.add(u,s.div(t,e*e)))}),1<t.length&&(o=s.div(o,t.length-1),i=s.div(i,t.length-1),i=s.sub(i,r.position),u=s.div(u,t.length-1)),o=s.mult(s.normalize(o),.1),i=s.mult(s.normalize(i),.4),u=s.mult(s.normalize(u),.81),s.add(s.add(s.add(o,i),u),a)),t=s.add(r.position,s.mult(n,1));t.z=1,c.updateEntity({id:r.id,position:t})}),r};var s={add:function(t,e){return{x:t.x+e.x,y:t.y+e.y}},sub:function(t,e){return{x:t.x-e.x,y:t.y-e.y}},mult:function(t,e){return{x:t.x*e,y:t.y*e}},div:function(t,e){return{x:t.x/e,y:t.y/e}},magnitude:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},normalize:function(t){var e=s.magnitude(t);return 0<e?s.div(t,e):{x:0,y:0}}}},{}],24:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){e.createEntity({type:"NOTE",color:13434624,width:32,height:32,depth:16,isStatic:!0,position:{x:0,y:0,z:1}}),e.createSutra().addCondition("entityTouchedNote",function(t,e){if("COLLISION"===t.type&&"START"===t.kind)return"NOTE"===t.bodyA.type||"NOTE"===t.bodyB.type||void 0}),e.on("pointerDown",function(t){"NOTE"===t.type&&e.playNote(t.kind),"DRUM"===t.type&&e.playDrum(t.kind)})}},{}],25:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(t("./sutras.js")),i=r(t("./welcomeMessage.js"));function r(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function c(t,e,n){(e=s(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function s(t){t=function(t,e){if("object"!=u(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==u(t)?t:String(t)}t=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.id=t.id}var e,n,r;return e=t,(n=[{key:"init",value:function(t){this.game=t,this.createWorld()}},{key:"createWorld",value:function(){var n=this.game,t=(n.setGravity(0,0,0),n.createDefaultPlayer({position:{x:0,y:0}}),n.setBackground("#007fff"),n.use("Block"),n.use("Border",{autoBorder:!0}),n.use("Bullet"),n.use("Tone"),n.use("Tile"),(0,i.default)(n),(0,o.default)(n)),t=(n.setSutra(t),n.createEntity({type:"BACKGROUND",texture:"garden",width:300,height:300,body:!1,position:{x:0,y:0,z:-10}}),n.createEntity({name:"sutra-tree",type:"BACKGROUND",width:256,height:256,depth:1,texture:"sutra-tree",body:!1,position:{x:0,y:300,z:32}}),t.toEnglish());n.createEntity({name:"sutra-tree-text",type:"TEXT",text:"Sutra Rules \n\n"+t,width:256,height:256,depth:1,body:!1,style:{whiteSpace:"pre",textAlign:"left",color:"black",opacity:.55},position:{x:40,y:550,z:32}}),n.createEntity({type:"BACKGROUND",texture:"robot-arms-apartment",kind:"building",depth:1,width:1340,height:3668,body:!1,position:{x:900,y:-1800,z:1}}),n.createEntity({type:"BACKGROUND",texture:"planet-express-base",kind:"building",width:2048,height:2048,depth:1,body:!1,position:{x:-900,y:-800,z:-1}}),n.createEntity({type:"BLOCK",texture:"tile-block",width:200,height:200,mass:1e4,position:{x:200,y:-800,z:-8}}),n.createEntity({type:"WARP",kind:"YCraft",width:64,height:64,depth:64,texture:"warp-to-ycraft",isStatic:!0,isSensor:!0,position:{x:0,y:-210,z:32}}),n.createEntity({type:"TEXT",text:"Warp To YCraft World",color:0,style:{fontSize:"16px",textAlign:"center"},body:!1,position:{x:-20,y:-220,z:64}}),n.createEntity({type:"TEXT",text:"CSSGraphics Engine",width:20,color:0,style:{width:"150px",fontSize:"12px",textAlign:"center",color:"black",opacity:.22},body:!1,position:{x:-63,y:-16,z:-2}}),n.createEntity({name:"PhaserGraphics",type:"TEXT",text:"Canvas",width:60,height:50,style:{width:"60px",height:"30px",fontSize:"12px",color:"white",textAlign:"center",opacity:.7},body:!0,isSensor:!0,position:{x:-55,y:75,z:10}}),n.createEntity({name:"BabylonGraphics",type:"TEXT",text:"3D",width:60,height:50,color:0,style:{width:"60px",height:"30px",fontSize:"12px",color:"white",textAlign:"center",opacity:.7},body:!0,isSensor:!0,position:{x:55,y:75,z:64}}),n.createEntity({type:"DOOR",texture:{sheet:"loz_spritesheet",sprite:"ayyoDoor"},width:16,height:16,body:!1,position:{x:55,y:71,z:10}}),n.createEntity({type:"DOOR",texture:{sheet:"loz_spritesheet",sprite:"ayyoDoor"},width:16,height:16,body:!1,position:{x:-55,y:71,z:10}}),n.createEntity({type:"WARP",kind:"Music",width:64,height:64,depth:64,texture:"warp-to-music",isStatic:!0,isSensor:!0,position:{x:-250,y:0,z:32}}),n.createEntity({type:"TEXT",width:100,text:"Warp To Music World",color:0,style:{width:"100px",fontSize:"16px",textAlign:"center"},body:!1,position:{x:-250,y:-30,z:64}}),n.createEntity({type:"TEXT",text:"Warp To Platform World",color:0,width:120,height:200,style:{width:"120px",fontSize:"16px",textAlign:"center"},body:!1,position:{x:250,y:20,z:64}}),n.createEntity({type:"WARP",kind:"Platform",width:64,height:64,depth:64,texture:"warp-to-platform",isStatic:!0,isSensor:!0,position:{x:250,y:0,z:32}}),n.createEntity({type:"NOTE",color:13434624,width:32,height:32,depth:16,isStatic:!0,position:{x:-120,y:-200,z:32}});[].forEach(function(t,e){n.createEntity({type:t.toUpperCase(),kind:t,width:16,height:16,depth:32,texture:{sheet:"loz_spritesheet",sprite:t},position:{x:32*e-100,y:150,z:32}})})}}])&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();c(t,"id","world-home"),c(t,"type","world"),n.default=t},{"./sutras.js":26,"./welcomeMessage.js":28}],26:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e.createSutra(),n=(0,o.default)(e),n=(t.use(n,"switchGraphics"),(0,r.default)(e));return t.use(n,"warpToWorld"),t.use((0,i.default)(e,{route:u.default.createRectangleRoute(-50,-150,200,-150),tolerance:5}),"walker"),t.on("playNote",function(t){return e.playNote(t.note)}),t.use((0,a.default)(e),"fire"),t.use((0,c.default)(e),"block"),t.use((0,s.default)(e),"demon"),t.use((0,l.default)(e),"hexapod"),t};var r=f(t("../sutras/warpToWorld.js")),o=f(t("../sutras/switchGraphics.js")),i=f(t("../../mantra-game/plugins/world-tower/sutras/walker.js")),u=f(t("../sutras/routing.js")),a=f(t("../../mantra-sutras/fire.js")),c=f(t("./sutras/block.js")),s=f(t("../../mantra-sutras/demon.js")),l=f(t("../../mantra-sutras/hexapod.js"));function f(t){return t&&t.__esModule?t:{default:t}}},{"../../mantra-game/plugins/world-tower/sutras/walker.js":20,"../../mantra-sutras/demon.js":21,"../../mantra-sutras/fire.js":22,"../../mantra-sutras/hexapod.js":23,"../sutras/routing.js":42,"../sutras/switchGraphics.js":43,"../sutras/warpToWorld.js":44,"./sutras/block.js":27}],27:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(i){var t=i.createSutra();return t.addCondition("playerTouchedBlock",function(t,e){if("COLLISION"===t.type&&"START"===t.kind)return"PLAYER"===t.bodyA.type&&"BLOCK"===t.bodyB.type||"BLOCK"===t.bodyB.type&&"PLAYER"===t.bodyA.type||void 0}),t.addCondition("bulletTouchedBlock",function(t,e){if("COLLISION"===t.type&&"START"===t.kind)return"BULLET"===t.bodyA.type&&"BLOCK"===t.bodyB.type||"BLOCK"===t.bodyB.type&&"BULLET"===t.bodyA.type||void 0}),t.if("playerTouchedBlock").then("playNote",{note:"C2"}),t.if("bulletTouchedBlock").then("playNote",{note:"C4"}),i.on("pointerDown",function(t,e){var n,r,o;"BLOCK"===t.type&&"Tile"===t.kind&&(i.playNote("C2"),n=t.width/2,r=t.height/2,n=e.offsetX-n,e=e.offsetY-r,o=r=0,Math.abs(n)>Math.abs(e)?r=0<n?-32:32:o=0<e?-32:32,i.applyPosition(t.id,{x:r,y:o}))}),t}},{}],28:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){var e,n,r;!0!==t.hasShownWelcomeMessage?(t.hasShownWelcomeMessage=!0,e=Math.floor(window.innerWidth/15)+"px",n=Math.floor(window.innerWidth/2),r=110,("ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints)&&(r=30),(t=t.systems["typer-ghost"].createQueuedText({x:n,y:r,style:{color:"white",fontSize:e,width:"100%",textShadow:"-2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000",position:"absolute",textAlign:"center",top:"0px",left:"50%",transform:"translateX(-50%)",lineHeight:"1",zIndex:"999"},duration:5e3,removeDuration:6e3})).queueText("Welcome to Mantra Worlds",5e3,2e3),t.queueText("Use WASD to move",5e3,3e3),t.queueText("Click objects to interact",5e3,3e3),t.queueText("Zoom with Slider or Mouse Wheel",5e3,3e3),t.queueText("Press START to Switch Worlds",5e3,2e3),t.queueText("Press SELECT to Open Menu",5e3,2e3),t.queueText("USB Gamepad Support",5e3,2e3),t.processQueue()):console.log("welcomeMessage already run once")}},{}],29:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;r(t("../sutras/warpToWorld.js"));var o=r(t("./instruments/createPiano.js")),i=r(t("./instruments/createDrumKit.js")),u=r(t("./sutras.js"));function r(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function s(t,e,n){(e=l(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function l(t){t=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==a(t)?t:String(t)}t=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.id=t.id}var e,n,r;return e=t,(n=[{key:"init",value:function(t){this.game=t,this.createWorld()}},{key:"createWorld",value:function(){var t=this.game,e=(t.setBackground("black"),t.createEntity({type:"TEXT",text:"Click or Jump on the Piano",style:{fontSize:"16px",color:"#ffffff",textAlign:"center"},body:!1,position:{x:352,y:150,z:64}}),(0,o.default)(t,{position:{x:-200,y:200},width:1028,height:64}),(0,i.default)(t,{position:{x:1e3,y:150}}),t.setGravity(0,4.3,0),t.use("Block"),t.use("Tone"),t.use("Bullet"),t.use("Border",{autoBorder:!0}),(0,u.default)(t));t.setSutra(e),t.createEntity({type:"WARP",texture:"warp-to-home",width:64,height:64,isStatic:!0,position:{x:200,y:-10}}),t.createEntity({type:"TEXT",text:"Warp To Mantra",color:16777215,style:{padding:"2px",fontSize:"16px",textAlign:"center"},body:!1,position:{x:195,y:-20}}),t.createEntity({type:"PLATFORM",width:200,height:16,isStatic:!0,position:{x:1e3,y:210}}),t.createDefaultPlayer({position:{x:352,y:0}})}},{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"destroy",value:function(){}}])&&c(e.prototype,n),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();s(t,"id","world-home"),s(t,"type","world"),n.default=t},{"../sutras/warpToWorld.js":44,"./instruments/createDrumKit.js":30,"./instruments/createPiano.js":31,"./sutras.js":32}],30:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(r,o){[{type:"kick",color:16777215,width:25,height:25,position:{x:0,y:12.5}},{type:"snare",color:16777215,width:15,height:15,position:{x:0,y:-12.5}},{type:"hiHatClosed",color:16777215,width:10,height:10,position:{x:-15,y:-7.5}},{type:"hiHatOpen",color:16777215,width:10,height:10,position:{x:-15,y:7.5}},{type:"tomLow",color:16777215,width:17.5,height:17.5,position:{x:17.5,y:-7.5}},{type:"tomHigh",color:16777215,width:12.5,height:12.5,position:{x:17.5,y:7.5}}].forEach(function(t){var e=o.position.x+t.position.x,n=o.position.y+t.position.y;r.createEntity({type:"DRUM",kind:t.type,color:t.color,width:t.width,height:t.height,isStatic:!0,position:{x:e,y:n}})})}},{}],31:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(r,o){for(var t=["C","D","E","F","G","A","B"],i=["C#","D#","F#","G#","A#"],u=o.position.x,a=o.width/52,c=a/2.5,s=o.height,l=s/2,e=0;e<8;e++)!function(n){t.forEach(function(t,e){r.createEntity({type:"NOTE",kind:t+n,color:16777215,style:{borderRadius:"0px"},width:a,height:s,isStatic:!0,position:{x:u,y:o.position.y}}),u+=a,"E"!==t&&"B"!==t&&r.createEntity({type:"NOTE",kind:i[e]+n,color:16711680,width:c,height:l,isStatic:!0,style:{border:"solid",zIndex:9999,borderRadius:"0px"},position:{x:u-c,y:o.position.y-l/2,z:9990}})})}(e)}},{}],32:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(n){var e=n.createSutra(),t=(e.addCondition("isTile",function(t){return"BLOCK"===t.type}),(0,r.default)(n));return e.use(t,"warpToWorld"),e.addCondition("entityTouchedNote",function(t,e){if("COLLISION"===t.type&&"START"===t.kind)return"NOTE"===t.bodyA.type||"NOTE"===t.bodyB.type||void 0}),e.on("damageEntity",function(t){t="FIRE"===t.bodyA.type?t.bodyB:t.bodyA;console.log("damageEntity",t),n.removeEntity(t.id)}),e.if("entityTouchedNote").then("playNote").then("updateNoteColor"),e.on("playNote",function(t){var e;t.kind&&(e=t.kind),t.note&&(e=t.note),t.NOTE&&(e=t.NOTE.kind),n.playNote(e)}),e.on("updateNoteColor",function(t){var e=t.NOTE||t;u[e.id]?(clearTimeout(u[e.id].timer),n.updateEntity({id:e.id,color:u[e.id].originalColor})):u[e.id]={originalColor:e.color},n.updateEntity({id:e.id,color:13434624}),u[e.id].timer=setTimeout(function(){n.updateEntity({id:e.id,color:u[e.id].originalColor})},222)}),console.log("created sutra",e.toEnglish()),n.on("pointerDown",function(t){"NOTE"!==t.type&&"piano-roll-text"!==t.name||(n.playNote(t.kind),e.emit("updateNoteColor",t),i=!0),"DRUM"===t.type&&n.playDrum(t.kind)}),n.on("pointerMove",function(t){i&&"NOTE"===t.type&&(n.playNote(t.kind),e.emit("updateNoteColor",t))}),n.on("pointerUp",function(t){console.log("pointerUp",t),i=!1}),e};var r=o(t("../sutras/warpToWorld.js"));o(t("../sutras/switchGraphics.js"));function o(t){return t&&t.__esModule?t:{default:t}}var i=!1,u={}},{"../sutras/switchGraphics.js":43,"../sutras/warpToWorld.js":44}],33:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=(t=t("../sutras/warpToWorld.js"))&&t.__esModule?t:{default:t};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function u(t,e,n){(e=a(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function a(t){t=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==r(t)?t:String(t)}t=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.game=t,this.id=e.id,this.type=e.type}var t,n,r;return t=e,(n=[{key:"init",value:function(t){(this.game=t).data.camera.mode="platformer",this.createWorld()}},{key:"createWorld",value:function(){var n=this.game;function t(t){n.createEntity({type:"PLATFORM",isStatic:!0,width:t.width,height:t.height,color:t.color,style:{display:"none"},position:{x:t.x,y:t.y,z:t.z}})}n.setGravity(0,3.3,0),n.use("Platform"),t({x:185,y:-74,z:-10,color:16711680,width:16,height:16}),t({x:201,y:-74,z:-10,color:16711680,width:16,height:16}),t({x:200,y:10,z:-1,width:850,height:60}),t({x:925,y:0,z:-1,width:600,height:60});var e=n.createSutra(),r=(0,o.default)(n);e.use(r,"warpToWorld"),e.addCondition("isTile",function(t){return"BLOCK"===t.type}),n.setSutra(e),n.createEntity({type:"WARP",kind:"Home",texture:"warp-to-home",width:64,height:64,depth:1,isStatic:!0,position:{x:-100,y:-100}}),n.createEntity({type:"TEXT",text:"Warp To Mantra",color:16777215,style:{color:"#ffffff",padding:"2px",fontSize:"16px",textAlign:"center",backgroundColor:"transparent"},body:!1,position:{x:-105,y:-110}}),n.on("plugin::ready::Platform",function(){n.systems.platform.kinds.forEach(function(t){})}),n.use("Border",{autoBorder:!0}),n.use("Bullet"),n.createEntity({type:"BACKGROUND",texture:"smb3-1-1",width:2816,height:433,body:!1,position:{x:1408,y:-216.5,z:-8}}),n.createDefaultPlayer({position:{x:10,y:-100}});[].forEach(function(t,e){n.createEntity({type:t.toUpperCase(),kind:t,width:16,height:16,depth:32,texture:{sheet:"loz_spritesheet",sprite:t},position:{x:150+32*e,y:-100,z:32}})})}},{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"destroy",value:function(){}},{key:"unload",value:function(){game.data.camera.mode=null}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();u(t,"id","world-platform"),u(t,"type","world"),n.default=t},{"../sutras/warpToWorld.js":44}],34:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){t=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u,a,c,s=function(){function n(){var t=this,e=n;if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");this.averageSnapshotSize=null,this.displayElement=null,this.id=n.id}var t,e,r;return t=n,(e=[{key:"init",value:function(e){this.game=e,this.game.addSystem(this.id,this);var n=e.width/3*-1;e.on("player::joined",function(t){console.log("a player has joined the server",t);t=e.createEntity({id:t.id,type:"PLAYER",shape:"rectangle",restitution:0,mass:9e4,height:300,width:40,friction:0,frictionAir:0,frictionStatic:0,lockedProperties:{position:{x:n}}});e.emit("player::created",t)}),this.createBorder(),this.createBall()}},{key:"update",value:function(){}},{key:"createBall",value:function(){this.game.createEntity({id:"game-ball",type:"BALL",x:0,y:500,height:50,width:50,velocity:{x:8,y:8},maxSpeed:20,restitution:2.5,friction:0,frictionAir:0,frictionStatic:0})}},{key:"createBorder",value:function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=200,r={top:{position:{x:0,y:-600},size:{width:2400,height:n}},bottom:{position:{x:0,y:600},size:{width:2400,height:n}},left:{position:{x:-1100,y:0},size:{width:n,height:1e3}},right:{position:{x:1100,y:0},size:{width:n,height:1e3}}};for(t in r){var o=r[t];void 0===e.id&&(e.id="border"),this.game.createEntity({name:e.id+"-"+t,type:"BORDER",shape:"rectangle",isStatic:!0,position:{x:o.position.x,y:o.position.y},width:o.size.width,height:o.size.height,depth:80})}}}])&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),n}();u=s,c="world-pong",(a=i(a="id"))in u?Object.defineProperty(u,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):u[a]=c,n.default=s},{}],35:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function i(t,e,n){(e=u(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function u(t){t=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.game=t,this.id=e.id,this.type=e.type}var t,n,r;return t=e,(n=[{key:"init",value:function(t){this.game=t,this.createWorld()}},{key:"createWorld",value:function(){var t=this.game;t.use("Bullet"),t.systemsManager.removeSystem("entity-input"),t.systemsManager.removeSystem("entity-movement"),t.use("PhysXPhysics"),t.use("EntityInput"),t.use("EntityMovement"),t.use("Block"),t.use("Editor",{sourceCode:"https://github.com/yantra-core/mantra/blob/master/mantra-client/public/examples/offline/physx-babylon.html"}),t.systems.graphics.switchGraphics("BabylonGraphics",function(){t.createEntity({type:"BLOCK",width:500,height:500,depth:200,position:{x:0,y:-500}}),t.use("Border",{autoBorder:!0}),t.use("StarField"),t.createDefaultPlayer()})}},{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"destroy",value:function(){}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();i(a,"id","world-space"),i(a,"type","world"),n.default=a},{}],36:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=u(t("../../mantra-sutras/demon.js")),o=u(t("../../mantra-sutras/hexapod.js")),i=u(t("../../mantra-sutras/note.js")),t=u(t("../../mantra-sutras/fire.js"));function u(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function s(t,e,n){(e=l(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function l(t){t=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==a(t)?t:String(t)}var f={demon:r.default,hexapod:o.default,note:i.default,fire:t.default},r=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.game=t,this.id=e.id,this.type=e.type}var t,n,r;return t=e,(n=[{key:"init",value:function(t){this.game=t,this.createWorld()}},{key:"createWorld",value:function(){var n=this.game;function r(t){n.createEntity({type:"TEXT",body:!1,text:t,position:{x:0,y:0},style:{fontSize:30,color:"#ffffff"}})}n.setGravity(0,0,0),n.zoom(.3),n.use("Bullet"),n.use("Tone"),n.use("Health"),console.log("hexapod",o.default),n.use("Block",{MIN_BLOCK_SIZE:1e3}),n.use("Border",{autoBorder:!0,thickness:200}),n.setSutra((0,o.default)(n)),n.data.roundEnded=!1,n.data.roundStarted=!0,n.createDefaultPlayer(),r("hexapod"),setInterval(function(){var t=Object.keys(f),t=t[Math.floor(Math.random()*t.length)],e=f[t];n.removeAllEntities(),r(t),n.setSutra(e(n))},2e3)}},{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"destroy",value:function(){}}])&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();s(r,"id","world-sutra"),s(r,"type","world"),n.default=r},{"../../mantra-sutras/demon.js":21,"../../mantra-sutras/fire.js":22,"../../mantra-sutras/hexapod.js":23,"../../mantra-sutras/note.js":24}],37:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function i(t,e,n){(e=u(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function u(t){t=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.game=t,this.id=e.id,this.type=e.type}var t,n,r;return t=e,(n=[{key:"init",value:function(t){this.game=t,this.createWorld()}},{key:"createWorld",value:function(){var t=this.game;t.setGravity(0,0,0),t.use("Bullet"),t.use("Health"),t.use("Block"),t.use("StarField"),t.on("plugin::ready::XState",function(){t.createDefaultPlayer(),t.systems.xstate.loadEntities()}),t.use("XState",{world:{id:"bossFightGame",world:{width:800,height:600},entities:{boss:{type:"NPC",position:{x:-200,y:-600},height:600,width:600,health:1e3}},stateMachine:{id:"bossFightGame",initial:"Idle",context:{name:"boss",health:1e3},states:{Idle:{on:{START:"Active"}},Active:{on:{"entity::damage":{target:"UpdateEntity",cond:"isBossDamaged"},ENTITY_DESTROYED:{target:"Victory",cond:"isBossDefeated"}}},UpdateEntity:{on:{COMPLETE_UPDATE:"Active"},entry:"calculateComponentUpdate"},Victory:{type:"final"}},on:{}},guards:{isBossDamaged:function(t,e){return console.log("isBossDamaged",t,e),e.name===t.name&&"entity::damage"===e.type},isBossDefeated:function(t,e){return console.log("isBossDefeated",t,e),e.name===t.name&&"ENTITY_DESTROYED"===e.type}},actions:{calculateComponentUpdate:function(t,e){t.health-=e.damage;var e=255,n=255,r=0,o=255,i=0,u=0,a=Math.max(t.health,0)/1e3,i=n+(i-n)*(1-a),n=r+(u-r)*(1-a);t.color=Math.round(e+(o-e)*(1-a))<<16|Math.round(i)<<8|Math.round(n)}}}})}},{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"destroy",value:function(){}},{key:"unload",value:function(){this.game.systems.xstate.unload()}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();i(a,"id","world-xstate"),i(a,"type","world"),n.default=a},{}],38:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=(t=t("./contraptions-example.js"))&&t.__esModule?t:{default:t};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function u(t,e,n){(e=a(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function a(t){t=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==r(t)?t:String(t)}t=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.game=t,this.id=e.id,this.type=e.type}var t,n,r;return t=e,(n=[{key:"init",value:function(t){this.game=t,this.createWorld()}},{key:"createWorld",value:function(){var e=this.game,t=(e.setGravity(0,0,0),e.use("Bullet"),e.use("Block"),e.use("YCraft",{contraption:o.default}),e.use("YCraftGUI"),e.createEntity({type:"WARP",kind:"Home",width:64,texture:"warp-to-home",isStatic:!0,height:64,position:{x:260,y:60,z:0}}),e.createEntity({type:"TEXT",text:"Warp To Mantra",color:0,style:{fontSize:"16px",textAlign:"center"},body:!1,position:{x:260,y:60,z:64}}),e.createSutra());t.addCondition("playerTouchedWarpZone",function(t,e){if("COLLISION"===t.type)return console.log("entity",t),"PLAYER"===t.bodyA.type&&"WARP"===t.bodyB.type||"WARP"===t.bodyA.type&&"PLAYER"===t.bodyB.type||void 0}),t.if("playerTouchedWarpZone").then("switchWorld"),t.on("switchWorld",function(t){console.log("entityentity",t);t=t.WARP.kind||"Home";e.switchWorlds(t)}),e.setSutra(t);for(var n=0;n<10;n++)e.createEntity({type:"BLOCK",texture:"tile-block",mass:1e4,height:16,width:16,position:{x:180,y:0+64*n,z:0},friction:1,frictionAir:1,frictionStatic:1});e.createDefaultPlayer({position:{x:75,y:75,z:0}})}},{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"destroy",value:function(){}},{key:"unload",value:function(){console.log("YCraft.unload()")}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();u(t,"id","world-ycraft"),u(t,"type","world"),n.default=t},{"./contraptions-example.js":39}],39:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var t=new c.YCraft(0,0,0,{description:"Simple Light",height:100,width:125}),e=new c.Button(25,15,0),n=new c.Latch(25,65,0),r=new c.LEDLight(75,15,200,{wattage:60,height:250,width:250}),r=(e.connect(r),n.connect(r),t.addPart(r),t.addPart(e),t.addPart(n),new c.YCraft(0,140,0,{description:"Wired Light",height:120,width:200})),e=new c.Wire,n=new c.Wire,o=new c.Button(25,25,0),i=new c.Latch(25,75,0),u=new c.Relay(75,50,0),a=new c.LEDLight(125,50,100,{wattage:60,height:250,width:250}),a=(o.connect(e),i.connect(e),e.connect(u),u.connect(n),n.connect(a),r.addPart(a),r.addPart(o),r.addPart(i),r.addPart(u),r.addPart(e),r.addPart(n),new c.YCraft);return a.addContraption(t),a.addContraption(r),a};var c=t("../../../YCraft.js/index.js")},{"../../../YCraft.js/index.js":1}],40:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"worlds",{enumerable:!0,get:function(){return r.default}});var r=(n=t("./index.js"))&&n.__esModule?n:{default:n}},{"./index.js":41}],41:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=l(t("./Home/Home.js")),o=l(t("./Music/Music.js")),i=l(t("./Platform/Platform.js")),u=l(t("./Pong/Pong.js")),a=l(t("./Space/Space.js")),c=l(t("./Sutra/Sutra.js")),s=l(t("./XState/XState.js")),t=l(t("./YCraft/YCraft.js"));function l(t){return t&&t.__esModule?t:{default:t}}var f={};f.Home=r.default,f.Music=o.default,f.Platform=i.default,f.Pong=u.default,f.Space=a.default,f.Sutra=c.default,f.XState=s.default,f.YCraft=t.default,n.default=f},{"./Home/Home.js":25,"./Music/Music.js":29,"./Platform/Platform.js":33,"./Pong/Pong.js":34,"./Space/Space.js":35,"./Sutra/Sutra.js":36,"./XState/XState.js":37,"./YCraft/YCraft.js":38}],42:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r={createLineRoute:function(t,e,n,r,o){for(var i=[],u=n-t,a=r-e,c=Math.max(Math.abs(u),Math.abs(a))/o,s=0;s<=c;s++)i.push([t+u*s/c,e+a*s/c]);return i},createRectangleRoute:function(t,e,n,r){return[[t,e],[t+n,e],[t+n,e+r],[t,e+r],[t,e]]},createCircleRoute:function(t,e,n,r){for(var o=[],i=0;i<=r;i++){var u=2*Math.PI*i/r;o.push([t+n*Math.cos(u),e+n*Math.sin(u)])}return o}};n.default=r},{}],43:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(o){var t=o.createSutra();return t.addCondition("playerTouchedPhaserGraphics",function(t,e){if("COLLISION"===t.type&&"ACTIVE"===t.kind&&"PhaserGraphics"===t.TEXT.name)return"PLAYER"===t.bodyA.type&&"TEXT"===t.bodyB.type||"TEXT"===t.bodyB.type&&"PLAYER"===t.bodyA.type||void 0}),t.addCondition("playerStoppedTouchedPhaserGraphics",function(t,e){if("COLLISION"===t.type&&"END"===t.kind&&"PhaserGraphics"===t.TEXT.name)return"PLAYER"===t.bodyA.type&&"TEXT"===t.bodyB.type||"TEXT"===t.bodyB.type&&"PLAYER"===t.bodyA.type||void 0}),t.if("playerTouchedPhaserGraphics").then("switchGraphics"),t.if("playerStoppedTouchedPhaserGraphics").then("hideLoader"),t.addCondition("playerTouchedBabylonGraphics",function(t,e){if("COLLISION"===t.type&&"ACTIVE"===t.kind&&"BabylonGraphics"===t.TEXT.name)return"PLAYER"===t.bodyA.type&&"TEXT"===t.bodyB.type||"TEXT"===t.bodyB.type&&"PLAYER"===t.bodyA.type||void 0}),t.addCondition("playerStoppedTouchedBabylonGraphics",function(t,e){if("COLLISION"===t.type&&"END"===t.kind&&"BabylonGraphics"===t.TEXT.name)return"PLAYER"===t.bodyA.type&&"TEXT"===t.bodyB.type||"TEXT"===t.bodyB.type&&"PLAYER"===t.bodyA.type||void 0}),t.if("playerTouchedBabylonGraphics").then("switchGraphics"),t.if("playerStoppedTouchedBabylonGraphics").then("hideLoader"),t.on("hideLoader",function(t,e,n){i&&i.remove()}),t.on("switchGraphics",function(e,t,n){var r;"number"==typeof e.duration&&(1===e.duration?(i=new o.systems.graphics.LoadingCircle(u),(r={x:(r=e.TEXT.position).x-n.camera.position.x+window.outerWidth/2,y:r.y-n.camera.position.y+window.outerHeight/2}).x+=45,r.y+=255,i.setPosition(r.x,r.y),i.container.addEventListener("loadingComplete",function(t){console.log("Loading complete:",t.detail);t=e.TEXT.name||"PhaserGraphics";o.switchGraphics(t),i.remove()})):i.tick(1/n.FPS*1e3))}),t};var i,u=3e3},{}],44:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e.createSutra();return e.on("pointerMove",function(t){"WARP"===t.type&&console.log("pointerMove WARP",t)}),t.addCondition("playerTouchedWarpZone",function(t,e){if("COLLISION"===t.type&&t.PLAYER&&t.WARP)return!0}),t.if("playerTouchedWarpZone").then("switchWorld"),t.on("switchWorld",function(t){t=t.WARP.kind||"Home";e.switchWorlds(t)}),t}},{}]},{},[40])(40)});
//# sourceMappingURL=worlds.mantra.min.js.map