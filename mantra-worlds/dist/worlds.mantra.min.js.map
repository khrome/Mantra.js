{"version":3,"sourceRoot":"../","sources":["./dist/worlds.mantra.js"],"sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.WORLDS = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar Pong = /*#__PURE__*/function () {\n  function Pong() {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, Pong);\n    this.averageSnapshotSize = null;\n    this.displayElement = null;\n    this.id = Pong.id;\n  }\n  _createClass(Pong, [{\n    key: \"init\",\n    value: function init(game) {\n      this.game = game;\n\n      // In order to let Mantra know the Pong Class subscribes to gameloop update() method\n      // we must register it with the game instance as a \"System\".\n      this.game.addSystem(this.id, this);\n      // Now the game instance will call this.update()\n\n      // TODO: refactor into functions\n      /*\n      game.systems['entity-input'].controlMappings = {\n        W: 'MOVE_FORWARD',\n        S: 'MOVE_BACKWARD'\n      };\n      */\n\n      var leftSide = game.width / 3 * -1;\n\n      // custom player join logic\n      game.on('player::joined', function (playerData) {\n        console.log('a player has joined the server', playerData);\n        var player = game.createEntity({\n          id: playerData.id,\n          // TODO: replace this\n          type: 'PLAYER',\n          shape: 'rectangle',\n          restitution: 0,\n          // bounciness\n          mass: 90000,\n          height: 300,\n          width: 40,\n          friction: 0,\n          // Default friction\n          frictionAir: 0,\n          // Default air friction\n          frictionStatic: 0,\n          // Default static friction\n          lockedProperties: {\n            position: {\n              x: leftSide\n            }\n          }\n        });\n        // make sure to let the game know that the player has been created\n        game.emit('player::created', player);\n      });\n\n      //\n      // Create the Player\n      //\n\n      this.createBorder();\n      this.createBall();\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      // console.log('update');\n\n      // TODO: scoring functions\n    }\n  }, {\n    key: \"createBall\",\n    value: function createBall() {\n      this.game.createEntity({\n        id: 'game-ball',\n        type: 'BALL',\n        x: 0,\n        y: 500,\n        height: 50,\n        width: 50,\n        velocity: {\n          // set initial velocity\n          x: 8,\n          y: 8\n        },\n        maxSpeed: 20,\n        restitution: 2.5,\n        // bounciness\n        friction: 0,\n        // Default friction\n        frictionAir: 0,\n        // Default air friction\n        frictionStatic: 0 // Default static friction\n      });\n    }\n  }, {\n    key: \"createBorder\",\n    value: function createBorder() {\n      var entityData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var height = 1000;\n      var width = 2000;\n      var WALL_THICKNESS = 200;\n      var borders = {\n        top: {\n          position: {\n            x: 0,\n            y: -height / 2 - WALL_THICKNESS / 2\n          },\n          size: {\n            width: width + WALL_THICKNESS * 2,\n            height: WALL_THICKNESS\n          }\n        },\n        bottom: {\n          position: {\n            x: 0,\n            y: height / 2 + WALL_THICKNESS / 2\n          },\n          size: {\n            width: width + WALL_THICKNESS * 2,\n            height: WALL_THICKNESS\n          }\n        },\n        left: {\n          position: {\n            x: -width / 2 - WALL_THICKNESS / 2,\n            y: 0\n          },\n          size: {\n            width: WALL_THICKNESS,\n            height: height\n          }\n        },\n        right: {\n          position: {\n            x: width / 2 + WALL_THICKNESS / 2,\n            y: 0\n          },\n          size: {\n            width: WALL_THICKNESS,\n            height: height\n          }\n        }\n      };\n      for (var b in borders) {\n        var border = borders[b];\n        if (typeof entityData.id === 'undefined') {\n          entityData.id = 'border';\n        }\n        this.game.createEntity({\n          name: entityData.id + '-' + b,\n          type: 'BORDER',\n          shape: 'rectangle',\n          isStatic: true,\n          position: {\n            x: border.position.x,\n            y: border.position.y\n          },\n          width: border.size.width,\n          height: border.size.height,\n          depth: 80\n        });\n      }\n    }\n  }]);\n  return Pong;\n}();\n_defineProperty(Pong, \"id\", 'world-pong');\nvar _default = exports[\"default\"] = Pong;\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar XState = /*#__PURE__*/function () {\n  function XState(game) {\n    _classCallCheck(this, XState);\n    this.game = game; // Store the reference to the game logic\n    this.id = XState.id;\n  }\n  _createClass(XState, [{\n    key: \"init\",\n    value: function init(game) {\n      this.game = game;\n      this.createWorld();\n    }\n  }, {\n    key: \"createWorld\",\n    value: function createWorld() {\n      var game = this.game;\n\n      // Use Plugins to extend the game with new functionality\n\n      // Adds projectile Bullets to the game\n      game.use('Bullet');\n\n      // Adds Health to the game\n      game.use('Health');\n\n      // Adds destructible Blocks to the game\n      game.use('Block');\n\n      // Adds a nice StarField background\n      game.use('StarField');\n      game.use('CurrentFPS');\n      game.use('Editor', {\n        sourceCode: 'https://github.com/yantra-core/mantra/blob/master/mantra-client/public/examples/offline/xstate-matter-babylon.html'\n      });\n      function BossFightMiddleware() {\n        var BossFight = {\n          id: 'bossFightGame',\n          initial: 'Idle',\n          context: {\n            name: 'boss',\n            health: 1000\n          },\n          states: {\n            Idle: {\n              on: {\n                START: 'Active'\n              }\n            },\n            Active: {\n              on: {\n                'entity::damage': {\n                  target: 'UpdateEntity',\n                  cond: 'isBossDamaged'\n                },\n                ENTITY_DESTROYED: {\n                  target: 'Victory',\n                  cond: 'isBossDefeated'\n                }\n              }\n            },\n            UpdateEntity: {\n              on: {\n                COMPLETE_UPDATE: 'Active'\n              },\n              entry: 'calculateComponentUpdate'\n            },\n            Victory: {\n              type: 'final'\n              // Additional actions or events after the boss is defeated\n            }\n          },\n          on: {\n            // Define global event handlers if needed\n          }\n        };\n        var Actions = {\n          calculateComponentUpdate: function calculateComponentUpdate(context, event) {\n            // Logic to calculate and apply component updates\n            context.health -= event.damage;\n\n            // Define color ranges: yellow (0xffff00) to red (0xff0000)\n            var yellow = {\n              r: 255,\n              g: 255,\n              b: 0\n            };\n            var red = {\n              r: 255,\n              g: 0,\n              b: 0\n            };\n\n            // Calculate the proportion of health lost\n            var maxHealth = 1000; // Assuming max health is 1000\n            var healthProportion = Math.max(context.health, 0) / maxHealth;\n\n            // Interpolate between yellow and red based on health proportion\n            var r = yellow.r + (red.r - yellow.r) * (1 - healthProportion);\n            var g = yellow.g + (red.g - yellow.g) * (1 - healthProportion);\n            var b = yellow.b + (red.b - yellow.b) * (1 - healthProportion);\n\n            // Convert RGB to hexadecimal color\n            context.color = Math.round(r) << 16 | Math.round(g) << 8 | Math.round(b);\n          }\n        };\n        var Guards = {\n          isBossDamaged: function isBossDamaged(context, event) {\n            return event.name === context.name && event.type === 'entity::damage';\n          },\n          isBossDefeated: function isBossDefeated(context, event) {\n            return event.name === context.name && event.type === 'ENTITY_DESTROYED';\n          }\n        };\n        var Game = {\n          \"id\": \"bossFightGame\",\n          \"world\": {\n            \"width\": 800,\n            \"height\": 600\n          },\n          \"entities\": {\n            \"boss\": {\n              \"type\": \"NPC\",\n              \"position\": {\n                x: -200,\n                y: -600\n              },\n              // Define boss's position\n              height: 600,\n              width: 600,\n              \"health\": 1000\n              // Additional boss properties like attack patterns, abilities, etc.\n            }\n          },\n          \"stateMachine\": BossFight,\n          \"guards\": Guards,\n          \"actions\": Actions\n        };\n        return Game;\n      }\n      game.use('XState', {\n        world: BossFightMiddleware()\n      });\n      game.use('StarField');\n      game.on('plugin::ready::XState', function () {\n        game.systems['xstate'].loadEntities();\n        game.createDefaultPlayer();\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update() {}\n  }, {\n    key: \"render\",\n    value: function render() {}\n  }, {\n    key: \"destroy\",\n    value: function destroy() {}\n  }]);\n  return XState;\n}();\n_defineProperty(XState, \"id\", 'XState');\nvar _default = exports[\"default\"] = XState;\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"worlds\", {\n  enumerable: true,\n  get: function get() {\n    return _index[\"default\"];\n  }\n});\nvar _index = _interopRequireDefault(require(\"./index.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n},{\"./index.js\":4}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _Pong = _interopRequireDefault(require(\"./Pong/Pong.js\"));\nvar _XState = _interopRequireDefault(require(\"./XState/XState.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar worlds = {};\nworlds.Pong = _Pong[\"default\"];\nworlds.XState = _XState[\"default\"];\nvar _default = exports[\"default\"] = worlds;\n\n},{\"./Pong/Pong.js\":1,\"./XState/XState.js\":2}]},{},[3])(3)\n});\n"],"names":["f","exports","module","define","amd","window","global","self","this","WORLDS","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","_typeof","Symbol","iterator","constructor","prototype","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","toPrimitive","String","Number","TypeError","value","obj","Pong","instance","Constructor","averageSnapshotSize","displayElement","id","protoProps","staticProps","game","addSystem","leftSide","width","on","playerData","console","log","player","createEntity","type","shape","restitution","mass","height","friction","frictionAir","frictionStatic","lockedProperties","position","x","emit","createBorder","createBall","y","velocity","maxSpeed","b","entityData","arguments","undefined","WALL_THICKNESS","borders","top","size","bottom","left","right","border","name","isStatic","depth","2","XState","createWorld","use","sourceCode","world","entities","boss","health","stateMachine","initial","context","states","Idle","START","Active","entity::damage","cond","ENTITY_DESTROYED","UpdateEntity","COMPLETE_UPDATE","entry","Victory","guards","isBossDamaged","event","isBossDefeated","actions","calculateComponentUpdate","damage","yellow","red","healthProportion","Math","max","g","color","round","systems","loadEntities","createDefaultPlayer","3","get","_index","__esModule","default","./index.js","4","_Pong","_interopRequireDefault","_XState","worlds","./Pong/Pong.js","./XState/XState.js"],"mappings":"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"}