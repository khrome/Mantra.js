{"version":3,"sourceRoot":"../","sources":["./dist/worlds.mantra.js"],"sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.WORLDS = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar Home = /*#__PURE__*/function () {\n  // type is optional for Plugins\n  function Home() {\n    _classCallCheck(this, Home);\n    this.id = Home.id;\n  }\n  _createClass(Home, [{\n    key: \"init\",\n    value: function init(game) {\n      this.game = game;\n      this.createWorld();\n    }\n  }, {\n    key: \"createWorld\",\n    value: function createWorld() {\n      var game = this.game;\n      game.setGravity(0, 0, 0);\n      game.createEntity({\n        type: 'PLATFORM',\n        isStatic: true,\n        width: 1000,\n        height: 40,\n        position: {\n          x: 0,\n          y: 200\n        }\n      });\n      game.createEntity({\n        type: 'BLOCK',\n        width: 150,\n        height: 150,\n        position: {\n          x: -400,\n          y: -150\n        }\n      });\n      game.use('Block');\n      //  game.use('Bullet')\n      game.use('Sword');\n      game.use('Border', {\n        autoBorder: true\n      });\n\n      /*\n      game.once('plugin::loaded::typer-ghost', function(){\n        game.systems['typer-ghost'].createText({ x: 300, y: 500, text: 'Welcome to Mantra\\n my friend.', style: { color: 'white', fontSize: '144px' }, duration: 10000 });\n      })\n      */\n\n      // game.use('GhostTyper');\n      console.log(game.systems);\n      game.createDefaultPlayer();\n\n      /*\n      game.systems.graphics.switchGraphics('BabylonGraphics', function(){\n        game.use('StarField');\n        game.createDefaultPlayer();\n      });\n      */\n    }\n  }, {\n    key: \"update\",\n    value: function update() {}\n  }, {\n    key: \"render\",\n    value: function render() {}\n  }, {\n    key: \"destroy\",\n    value: function destroy() {}\n  }]);\n  return Home;\n}();\n_defineProperty(Home, \"id\", 'world-home');\n// \"world\" type has special features in that it can be unloaded and reloaded.\n//  with special rules such as merge, replace, etc.\n//  this is currently used when switching between worlds in the GUI Editor\n//  the default behavior is to unload the world, then load the new world\n_defineProperty(Home, \"type\", 'world');\nvar _default = exports[\"default\"] = Home;\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar Platform = /*#__PURE__*/function () {\n  // type is optional for Plugins\n  function Platform(game) {\n    _classCallCheck(this, Platform);\n    this.game = game; // Store the reference to the game logic\n    this.id = Platform.id;\n    this.type = Platform.type;\n  }\n  _createClass(Platform, [{\n    key: \"init\",\n    value: function init(game) {\n      this.game = game;\n      this.createWorld();\n    }\n  }, {\n    key: \"createWorld\",\n    value: function createWorld() {\n      var game = this.game;\n      game.setGravity(0, 9.8, 0);\n      game.use('Platform');\n\n      // TODO:     game.on('game::ready', function () {\n      //           needs secound ready emit after plugins are loaded after start\n      game.on('plugin::ready::Platform', function () {\n        console.log(game.systems.platform.kinds);\n        game.createEntity({\n          type: 'PLATFORM',\n          isStatic: true,\n          width: 700,\n          height: 40,\n          position: {\n            x: 0,\n            y: 300\n          }\n        });\n      });\n      game.use('Border', {\n        autoBorder: true\n      });\n      console.log(game.systems);\n      game.createDefaultPlayer();\n    }\n  }, {\n    key: \"update\",\n    value: function update() {}\n  }, {\n    key: \"render\",\n    value: function render() {}\n  }, {\n    key: \"destroy\",\n    value: function destroy() {}\n  }]);\n  return Platform;\n}();\n_defineProperty(Platform, \"id\", 'world-platform');\n_defineProperty(Platform, \"type\", 'world');\nvar _default = exports[\"default\"] = Platform;\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar Pong = /*#__PURE__*/function () {\n  function Pong() {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, Pong);\n    this.averageSnapshotSize = null;\n    this.displayElement = null;\n    this.id = Pong.id;\n  }\n  _createClass(Pong, [{\n    key: \"init\",\n    value: function init(game) {\n      this.game = game;\n\n      // In order to let Mantra know the Pong Class subscribes to gameloop update() method\n      // we must register it with the game instance as a \"System\".\n      this.game.addSystem(this.id, this);\n      // Now the game instance will call this.update()\n\n      // TODO: refactor into functions\n      /*\n      game.systems['entity-input'].controlMappings = {\n        W: 'MOVE_FORWARD',\n        S: 'MOVE_BACKWARD'\n      };\n      */\n\n      var leftSide = game.width / 3 * -1;\n\n      // custom player join logic\n      game.on('player::joined', function (playerData) {\n        console.log('a player has joined the server', playerData);\n        var player = game.createEntity({\n          id: playerData.id,\n          // TODO: replace this\n          type: 'PLAYER',\n          shape: 'rectangle',\n          restitution: 0,\n          // bounciness\n          mass: 90000,\n          height: 300,\n          width: 40,\n          friction: 0,\n          // Default friction\n          frictionAir: 0,\n          // Default air friction\n          frictionStatic: 0,\n          // Default static friction\n          lockedProperties: {\n            position: {\n              x: leftSide\n            }\n          }\n        });\n        // make sure to let the game know that the player has been created\n        game.emit('player::created', player);\n      });\n\n      //\n      // Create the Player\n      //\n\n      this.createBorder();\n      this.createBall();\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      // console.log('update');\n\n      // TODO: scoring functions\n    }\n  }, {\n    key: \"createBall\",\n    value: function createBall() {\n      this.game.createEntity({\n        id: 'game-ball',\n        type: 'BALL',\n        x: 0,\n        y: 500,\n        height: 50,\n        width: 50,\n        velocity: {\n          // set initial velocity\n          x: 8,\n          y: 8\n        },\n        maxSpeed: 20,\n        restitution: 2.5,\n        // bounciness\n        friction: 0,\n        // Default friction\n        frictionAir: 0,\n        // Default air friction\n        frictionStatic: 0 // Default static friction\n      });\n    }\n  }, {\n    key: \"createBorder\",\n    value: function createBorder() {\n      var entityData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var height = 1000;\n      var width = 2000;\n      var WALL_THICKNESS = 200;\n      var borders = {\n        top: {\n          position: {\n            x: 0,\n            y: -height / 2 - WALL_THICKNESS / 2\n          },\n          size: {\n            width: width + WALL_THICKNESS * 2,\n            height: WALL_THICKNESS\n          }\n        },\n        bottom: {\n          position: {\n            x: 0,\n            y: height / 2 + WALL_THICKNESS / 2\n          },\n          size: {\n            width: width + WALL_THICKNESS * 2,\n            height: WALL_THICKNESS\n          }\n        },\n        left: {\n          position: {\n            x: -width / 2 - WALL_THICKNESS / 2,\n            y: 0\n          },\n          size: {\n            width: WALL_THICKNESS,\n            height: height\n          }\n        },\n        right: {\n          position: {\n            x: width / 2 + WALL_THICKNESS / 2,\n            y: 0\n          },\n          size: {\n            width: WALL_THICKNESS,\n            height: height\n          }\n        }\n      };\n      for (var b in borders) {\n        var border = borders[b];\n        if (typeof entityData.id === 'undefined') {\n          entityData.id = 'border';\n        }\n        this.game.createEntity({\n          name: entityData.id + '-' + b,\n          type: 'BORDER',\n          shape: 'rectangle',\n          isStatic: true,\n          position: {\n            x: border.position.x,\n            y: border.position.y\n          },\n          width: border.size.width,\n          height: border.size.height,\n          depth: 80\n        });\n      }\n    }\n  }]);\n  return Pong;\n}();\n_defineProperty(Pong, \"id\", 'world-pong');\nvar _default = exports[\"default\"] = Pong;\n\n},{}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar Space = /*#__PURE__*/function () {\n  // type is optional for Plugins\n  function Space(game) {\n    _classCallCheck(this, Space);\n    this.game = game; // Store the reference to the game logic\n    this.id = Space.id;\n    this.type = Space.type;\n  }\n  _createClass(Space, [{\n    key: \"init\",\n    value: function init(game) {\n      this.game = game;\n      this.createWorld();\n    }\n  }, {\n    key: \"createWorld\",\n    value: function createWorld() {\n      var game = this.game;\n\n      // Adds projectile Bullets to the game\n      game.use('Bullet');\n\n      // add / remove entitymovement\n      // game.systems['entity-movement'].unload();\n      game.systemsManager.removeSystem('entity-input');\n      game.systemsManager.removeSystem('entity-movement');\n\n      // TODO: Game.setPhysics('PhysXPhysics')\n      game.use('PhysXPhysics');\n      game.use('EntityInput');\n      game.use('EntityMovement');\n\n      // Adds destructible Blocks to the game\n      game.use('Block');\n      game.use('Editor', {\n        sourceCode: 'https://github.com/yantra-core/mantra/blob/master/mantra-client/public/examples/offline/physx-babylon.html'\n      });\n\n      // TODO: Game.setGraphics('BabylonGraphics')\n      game.systems.graphics.switchGraphics('BabylonGraphics', function () {\n        // Creates a single Block, since we have used Block plugin, this will be a destructible Block\n        game.createEntity({\n          type: 'BLOCK',\n          width: 500,\n          height: 500,\n          depth: 200,\n          position: {\n            x: 0,\n            y: -500\n          }\n        });\n        game.use('Border', {\n          autoBorder: true\n        });\n        game.use('StarField');\n        game.createDefaultPlayer();\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update() {}\n  }, {\n    key: \"render\",\n    value: function render() {}\n  }, {\n    key: \"destroy\",\n    value: function destroy() {}\n  }]);\n  return Space;\n}();\n_defineProperty(Space, \"id\", 'world-space');\n_defineProperty(Space, \"type\", 'world');\nvar _default = exports[\"default\"] = Space;\n\n},{}],5:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar Sutra = /*#__PURE__*/function () {\n  // type is optional for Plugins\n  function Sutra(game) {\n    _classCallCheck(this, Sutra);\n    this.game = game; // Store the reference to the game logic\n    this.id = Sutra.id;\n    this.type = Sutra.type;\n  }\n  _createClass(Sutra, [{\n    key: \"init\",\n    value: function init(game) {\n      this.game = game;\n      this.createWorld();\n    }\n  }, {\n    key: \"createWorld\",\n    value: function createWorld() {\n      var game = this.game;\n      game.setGravity(0, 0, 0);\n\n      // TODO: set default zoom to 0.3 ( zoomed out )\n      game.zoom(0.3);\n      game.use('Bullet');\n      game.use('Timers');\n      game.use('Health');\n      game.on('plugin::loaded::sutra', function () {\n        // Adds a nice StarField background\n        game.use('StarField');\n        game.use('TowerWorld', {\n          game: game\n        });\n      });\n      game.use('Sutra');\n\n      /*\n      // game.use(new Plugins.SutraGUI({ }));\n      game.use('Editor', {\n        sourceCode: 'https://github.com/yantra-core/mantra/blob/master/mantra-client/public/examples/offline/sutra-level-editor.html',\n        sutraEditor: true\n      });\n      */\n\n      game.use('Block', {\n        MIN_BLOCK_SIZE: 1000\n      });\n      game.use('Border', {\n        autoBorder: true,\n        thickness: 200\n      });\n      game.data.roundEnded = false;\n      game.data.roundStarted = true;\n      game.createDefaultPlayer();\n\n      /*\n      game.systems.graphics.switchGraphics('BabylonGraphics', function(){\n      });\n      */\n    }\n  }, {\n    key: \"update\",\n    value: function update() {}\n  }, {\n    key: \"render\",\n    value: function render() {}\n  }, {\n    key: \"destroy\",\n    value: function destroy() {}\n  }]);\n  return Sutra;\n}();\n_defineProperty(Sutra, \"id\", 'world-sutra');\n_defineProperty(Sutra, \"type\", 'world');\nvar _default = exports[\"default\"] = Sutra;\n\n},{}],6:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar XState = /*#__PURE__*/function () {\n  // type is optional for Plugins\n  function XState(game) {\n    _classCallCheck(this, XState);\n    this.game = game; // Store the reference to the game logic\n    this.id = XState.id;\n    this.type = XState.type;\n  }\n  _createClass(XState, [{\n    key: \"init\",\n    value: function init(game) {\n      this.game = game;\n      this.createWorld();\n    }\n  }, {\n    key: \"createWorld\",\n    value: function createWorld() {\n      var game = this.game;\n\n      // Use Plugins to extend the game with new functionality\n\n      // Adds projectile Bullets to the game\n      game.use('Bullet');\n\n      // Adds Health to the game\n      game.use('Health');\n\n      // Adds destructible Blocks to the game\n      game.use('Block');\n\n      // Adds a nice StarField background\n      game.use('StarField');\n\n      /*\n      game.use('Editor', {\n        sourceCode: 'https://github.com/yantra-core/mantra/blob/master/mantra-client/public/examples/offline/xstate-matter-babylon.html'\n      });\n      */\n\n      function BossFightMiddleware() {\n        var BossFight = {\n          id: 'bossFightGame',\n          initial: 'Idle',\n          context: {\n            name: 'boss',\n            health: 1000\n          },\n          states: {\n            Idle: {\n              on: {\n                START: 'Active'\n              }\n            },\n            Active: {\n              on: {\n                'entity::damage': {\n                  target: 'UpdateEntity',\n                  cond: 'isBossDamaged'\n                },\n                ENTITY_DESTROYED: {\n                  target: 'Victory',\n                  cond: 'isBossDefeated'\n                }\n              }\n            },\n            UpdateEntity: {\n              on: {\n                COMPLETE_UPDATE: 'Active'\n              },\n              entry: 'calculateComponentUpdate'\n            },\n            Victory: {\n              type: 'final'\n              // Additional actions or events after the boss is defeated\n            }\n          },\n          on: {\n            // Define global event handlers if needed\n          }\n        };\n        var Actions = {\n          calculateComponentUpdate: function calculateComponentUpdate(context, event) {\n            // Logic to calculate and apply component updates\n            context.health -= event.damage;\n\n            // Define color ranges: yellow (0xffff00) to red (0xff0000)\n            var yellow = {\n              r: 255,\n              g: 255,\n              b: 0\n            };\n            var red = {\n              r: 255,\n              g: 0,\n              b: 0\n            };\n\n            // Calculate the proportion of health lost\n            var maxHealth = 1000; // Assuming max health is 1000\n            var healthProportion = Math.max(context.health, 0) / maxHealth;\n\n            // Interpolate between yellow and red based on health proportion\n            var r = yellow.r + (red.r - yellow.r) * (1 - healthProportion);\n            var g = yellow.g + (red.g - yellow.g) * (1 - healthProportion);\n            var b = yellow.b + (red.b - yellow.b) * (1 - healthProportion);\n\n            // Convert RGB to hexadecimal color\n            context.color = Math.round(r) << 16 | Math.round(g) << 8 | Math.round(b);\n          }\n        };\n        var Guards = {\n          isBossDamaged: function isBossDamaged(context, event) {\n            console.log('isBossDamaged', context, event);\n            return event.name === context.name && event.type === 'entity::damage';\n          },\n          isBossDefeated: function isBossDefeated(context, event) {\n            console.log('isBossDefeated', context, event);\n            return event.name === context.name && event.type === 'ENTITY_DESTROYED';\n          }\n        };\n        var Game = {\n          \"id\": \"bossFightGame\",\n          \"world\": {\n            \"width\": 800,\n            \"height\": 600\n          },\n          \"entities\": {\n            \"boss\": {\n              \"type\": \"NPC\",\n              \"position\": {\n                x: -200,\n                y: -600\n              },\n              // Define boss's position\n              height: 600,\n              width: 600,\n              \"health\": 1000\n              // Additional boss properties like attack patterns, abilities, etc.\n            }\n          },\n          \"stateMachine\": BossFight,\n          \"guards\": Guards,\n          \"actions\": Actions\n        };\n        return Game;\n      }\n      game.on('plugin::ready::XState', function () {\n        game.createDefaultPlayer();\n        game.systems['xstate'].loadEntities();\n      });\n      game.use('XState', {\n        world: BossFightMiddleware()\n      });\n      // game.use('StarField');\n\n      game.systems.graphics.switchGraphics('PhaserGraphics', function () {});\n    }\n  }, {\n    key: \"update\",\n    value: function update() {}\n  }, {\n    key: \"render\",\n    value: function render() {}\n  }, {\n    key: \"destroy\",\n    value: function destroy() {}\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      game.systems['xstate'].unload();\n    }\n  }]);\n  return XState;\n}();\n_defineProperty(XState, \"id\", 'world-xstate');\n_defineProperty(XState, \"type\", 'world');\nvar _default = exports[\"default\"] = XState;\n\n},{}],7:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar YCraft = /*#__PURE__*/function () {\n  // type is optional for Plugins\n  function YCraft(game) {\n    _classCallCheck(this, YCraft);\n    this.game = game; // Store the reference to the game logic\n    this.id = YCraft.id;\n    this.type = YCraft.type;\n  }\n  _createClass(YCraft, [{\n    key: \"init\",\n    value: function init(game) {\n      this.game = game;\n      this.createWorld();\n    }\n  }, {\n    key: \"createWorld\",\n    value: function createWorld() {\n      var game = this.game;\n      game.setGravity(0, 0, 0);\n      game.use('Bullet');\n      game.use('YCraft');\n      game.use('YCraftGUI');\n      game.once('plugin::loaded::typer-ghost', function () {\n        game.systems['typer-ghost'].createText({\n          x: 300,\n          y: 500,\n          text: 'YCraft Crafting World',\n          style: {\n            color: 'white',\n            fontSize: '144px'\n          },\n          duration: 10000\n        });\n      });\n\n      //game.use('GhostTyper');\n      /*\n      game.use('Editor', {\n        sourceCode: 'https://github.com/yantra-core/mantra/blob/master/mantra-worlds/YCraft/YCraft.js',\n        sutraEditor: true\n      });\n      */\n\n      game.createEntity({\n        type: 'BLOCK',\n        color: 0xcccccc,\n        mass: 10000,\n        height: 64,\n        width: 64,\n        position: {\n          x: 150,\n          y: 300,\n          z: 0\n        },\n        friction: 1,\n        frictionAir: 1,\n        frictionStatic: 1\n      });\n\n      // Remark: Players removed for initial demo, is working\n      // game.createDefaultPlayer();\n\n      /* Not needed anymore?\n      game.systems.graphics.switchGraphics('CSSGraphics', function(){});\n      */\n    }\n  }, {\n    key: \"update\",\n    value: function update() {}\n  }, {\n    key: \"render\",\n    value: function render() {}\n  }, {\n    key: \"destroy\",\n    value: function destroy() {}\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      console.log('YCraft.unload()');\n    }\n  }]);\n  return YCraft;\n}();\n_defineProperty(YCraft, \"id\", 'world-ycraft');\n_defineProperty(YCraft, \"type\", 'world');\nvar _default = exports[\"default\"] = YCraft;\n\n},{}],8:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"worlds\", {\n  enumerable: true,\n  get: function get() {\n    return _index[\"default\"];\n  }\n});\nvar _index = _interopRequireDefault(require(\"./index.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n},{\"./index.js\":9}],9:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _Home = _interopRequireDefault(require(\"./Home/Home.js\"));\nvar _Platform = _interopRequireDefault(require(\"./Platform/Platform.js\"));\nvar _Pong = _interopRequireDefault(require(\"./Pong/Pong.js\"));\nvar _Space = _interopRequireDefault(require(\"./Space/Space.js\"));\nvar _Sutra = _interopRequireDefault(require(\"./Sutra/Sutra.js\"));\nvar _XState = _interopRequireDefault(require(\"./XState/XState.js\"));\nvar _YCraft = _interopRequireDefault(require(\"./YCraft/YCraft.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar worlds = {};\nworlds.Home = _Home[\"default\"];\nworlds.Platform = _Platform[\"default\"];\nworlds.Pong = _Pong[\"default\"];\nworlds.Space = _Space[\"default\"];\nworlds.Sutra = _Sutra[\"default\"];\nworlds.XState = _XState[\"default\"];\nworlds.YCraft = _YCraft[\"default\"];\nvar _default = exports[\"default\"] = worlds;\n\n},{\"./Home/Home.js\":1,\"./Platform/Platform.js\":2,\"./Pong/Pong.js\":3,\"./Space/Space.js\":4,\"./Sutra/Sutra.js\":5,\"./XState/XState.js\":6,\"./YCraft/YCraft.js\":7}]},{},[8])(8)\n});\n"],"names":["f","exports","module","define","amd","window","global","self","this","WORLDS","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","_typeof","Symbol","iterator","constructor","prototype","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_defineProperty","obj","value","toPrimitive","String","Number","TypeError","Home","id","Constructor","protoProps","staticProps","game","createWorld","setGravity","createEntity","type","isStatic","width","height","position","x","y","use","autoBorder","console","log","systems","createDefaultPlayer","2","Platform","on","platform","kinds","3","Pong","instance","averageSnapshotSize","displayElement","addSystem","leftSide","playerData","player","shape","restitution","mass","friction","frictionAir","frictionStatic","lockedProperties","emit","createBorder","createBall","velocity","maxSpeed","b","entityData","arguments","undefined","WALL_THICKNESS","borders","top","size","bottom","left","right","border","name","depth","4","Space","systemsManager","removeSystem","sourceCode","graphics","switchGraphics","5","Sutra","zoom","MIN_BLOCK_SIZE","thickness","data","roundEnded","roundStarted","6","XState","loadEntities","world","entities","boss","health","stateMachine","initial","context","states","Idle","START","Active","entity::damage","cond","ENTITY_DESTROYED","UpdateEntity","COMPLETE_UPDATE","entry","Victory","guards","isBossDamaged","event","isBossDefeated","actions","calculateComponentUpdate","damage","yellow","red","healthProportion","Math","max","g","color","round","unload","7","YCraft","once","createText","text","style","fontSize","duration","z","8","get","_index","__esModule","default","./index.js","9","_Home","_interopRequireDefault","_Platform","_Pong","_Space","_Sutra","_XState","_YCraft","worlds","./Home/Home.js","./Platform/Platform.js","./Pong/Pong.js","./Space/Space.js","./Sutra/Sutra.js","./XState/XState.js","./YCraft/YCraft.js"],"mappings":"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"}